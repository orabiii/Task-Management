import{S as Ct,i as Et,s as Mt,C as hr,k as K,a as ee,l as B,m as N,c as te,h as S,n as E,b as Oe,G as D,J as me,K as La,L as Ya,D as mr,E as pr,F as gr,g as ue,d as be,M as cn,N as vt,w as xt,O as We,P as Te,Q as Ie,R as an,T as Kn,H as on,U as ht,V as Ot,q as De,r as Ce,u as ot,W as he,X as br,Y as Ha,I as ze,Z as Va,o as qa,j as za,v as Rt,f as Lt,_ as Wa,$ as Ua,e as sn,y as st,z as lt,A as ut,B as ct,a0 as Tr,a1 as Ga,a2 as Zi,a3 as Ir,a4 as nt,a5 as Ja,a6 as Qa}from"../chunks/index.5a298011.js";import{d as Qn,w as _n}from"../chunks/index.73f285fa.js";import{_ as Xa}from"../chunks/preload-helper.41c905a7.js";import{H as Za}from"../chunks/control.e7f5239e.js";const Me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fe=Object.keys,He=Array.isArray;function Ue(n,t){return typeof t!="object"||Fe(t).forEach(function(e){n[e]=t[e]}),n}typeof Promise>"u"||Me.Promise||(Me.Promise=Promise);const ln=Object.getPrototypeOf,$a={}.hasOwnProperty;function it(n,t){return $a.call(n,t)}function un(n,t){typeof t=="function"&&(t=t(ln(n))),(typeof Reflect>"u"?Fe:Reflect.ownKeys)(t).forEach(e=>{wt(n,e,t[e])})}const $i=Object.defineProperty;function wt(n,t,e,r){$i(n,t,Ue(e&&it(e,"get")&&typeof e.get=="function"?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},r))}function $t(n){return{from:function(t){return n.prototype=Object.create(t.prototype),wt(n.prototype,"constructor",n),{extend:un.bind(null,n.prototype)}}}}const eo=Object.getOwnPropertyDescriptor;function fi(n,t){let e;return eo(n,t)||(e=ln(n))&&fi(e,t)}const to=[].slice;function yr(n,t,e){return to.call(n,t,e)}function ea(n,t){return t(n)}function Dn(n){if(!n)throw new Error("Assertion Failed")}function ta(n){Me.setImmediate?setImmediate(n):setTimeout(n,0)}function na(n,t){return n.reduce((e,r,i)=>{var a=t(r,i);return a&&(e[a[0]]=a[1]),e},{})}function kt(n,t){if(it(n,t))return n[t];if(!t)return n;if(typeof t!="string"){for(var e=[],r=0,i=t.length;r<i;++r){var a=kt(n,t[r]);e.push(a)}return e}var o=t.indexOf(".");if(o!==-1){var s=n[t.substr(0,o)];return s===void 0?void 0:kt(s,t.substr(o+1))}}function rt(n,t,e){if(n&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(n)))if(typeof t!="string"&&"length"in t){Dn(typeof e!="string"&&"length"in e);for(var r=0,i=t.length;r<i;++r)rt(n,t[r],e[r])}else{var a=t.indexOf(".");if(a!==-1){var o=t.substr(0,a),s=t.substr(a+1);if(s==="")e===void 0?He(n)&&!isNaN(parseInt(o))?n.splice(o,1):delete n[o]:n[o]=e;else{var l=n[o];l&&it(n,o)||(l=n[o]={}),rt(l,s,e)}}else e===void 0?He(n)&&!isNaN(parseInt(t))?n.splice(t,1):delete n[t]:n[t]=e}}function ra(n){var t={};for(var e in n)it(n,e)&&(t[e]=n[e]);return t}const no=[].concat;function ia(n){return no.apply([],n)}const aa="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ia([8,16,32,64].map(n=>["Int","Uint","Float"].map(t=>t+n+"Array")))).filter(n=>Me[n]),ro=aa.map(n=>Me[n]);na(aa,n=>[n,!0]);let It=null;function Bn(n){It=typeof WeakMap<"u"&&new WeakMap;const t=Yr(n);return It=null,t}function Yr(n){if(!n||typeof n!="object")return n;let t=It&&It.get(n);if(t)return t;if(He(n)){t=[],It&&It.set(n,t);for(var e=0,r=n.length;e<r;++e)t.push(Yr(n[e]))}else if(ro.indexOf(n.constructor)>=0)t=n;else{const a=ln(n);for(var i in t=a===Object.prototype?{}:Object.create(a),It&&It.set(n,t),n)it(n,i)&&(t[i]=Yr(n[i]))}return t}const{toString:io}={};function Hr(n){return io.call(n).slice(8,-1)}const Vr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ao=typeof Vr=="symbol"?function(n){var t;return n!=null&&(t=n[Vr])&&t.apply(n)}:function(){return null},Xt={};function yt(n){var t,e,r,i;if(arguments.length===1){if(He(n))return n.slice();if(this===Xt&&typeof n=="string")return[n];if(i=ao(n)){for(e=[];!(r=i.next()).done;)e.push(r.value);return e}if(n==null)return[n];if(typeof(t=n.length)=="number"){for(e=new Array(t);t--;)e[t]=n[t];return e}return[n]}for(t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return e}const hi=typeof Symbol<"u"?n=>n[Symbol.toStringTag]==="AsyncFunction":()=>!1;var mt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oa(n,t){mt=n,sa=t}var sa=()=>!0;const oo=!new Error("").stack;function Wt(){if(oo)try{throw Wt.arguments,new Error}catch(n){return n}return new Error}function qr(n,t){var e=n.stack;return e?(t=t||0,e.indexOf(n.name)===0&&(t+=(n.name+n.message).split(`
`).length),e.split(`
`).slice(t).filter(sa).map(r=>`
`+r).join("")):""}var la=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(la),so={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function en(n,t){this._e=Wt(),this.name=n,this.message=t}function ua(n,t){return n+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,r,i)=>i.indexOf(e)===r).join(`
`)}function vr(n,t,e,r){this._e=Wt(),this.failures=t,this.failedKeys=r,this.successCount=e,this.message=ua(n,t)}function Zt(n,t){this._e=Wt(),this.name="BulkError",this.failures=Object.keys(t).map(e=>t[e]),this.failuresByPos=t,this.message=ua(n,this.failures)}$t(en).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+qr(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$t(vr).from(en),$t(Zt).from(en);var pi=mi.reduce((n,t)=>(n[t]=t+"Error",n),{});const lo=en;var U=mi.reduce((n,t)=>{var e=t+"Error";function r(i,a){this._e=Wt(),this.name=e,i?typeof i=="string"?(this.message=`${i}${a?`
 `+a:""}`,this.inner=a||null):typeof i=="object"&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=so[t]||e,this.inner=null)}return $t(r).from(lo),n[t]=r,n},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var Ci=la.reduce((n,t)=>(n[t+"Error"]=U[t],n),{}),or=mi.reduce((n,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(n[t+"Error"]=U[t]),n),{});function ve(){}function On(n){return n}function uo(n,t){return n==null||n===On?t:function(e){return t(n(e))}}function qt(n,t){return function(){n.apply(this,arguments),t.apply(this,arguments)}}function co(n,t){return n===ve?t:function(){var e=n.apply(this,arguments);e!==void 0&&(arguments[0]=e);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?qt(r,this.onsuccess):r),i&&(this.onerror=this.onerror?qt(i,this.onerror):i),a!==void 0?a:e}}function fo(n,t){return n===ve?t:function(){n.apply(this,arguments);var e=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?qt(e,this.onsuccess):e),r&&(this.onerror=this.onerror?qt(r,this.onerror):r)}}function ho(n,t){return n===ve?t:function(e){var r=n.apply(this,arguments);Ue(e,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?qt(i,this.onsuccess):i),a&&(this.onerror=this.onerror?qt(a,this.onerror):a),r===void 0?o===void 0?void 0:o:Ue(r,o)}}function mo(n,t){return n===ve?t:function(){return t.apply(this,arguments)!==!1&&n.apply(this,arguments)}}function gi(n,t){return n===ve?t:function(){var e=n.apply(this,arguments);if(e&&typeof e.then=="function"){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return e.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}or.ModifyError=vr,or.DexieError=en,or.BulkError=Zt;var Pn={};const[zr,_r,Wr]=typeof Promise>"u"?[]:(()=>{let n=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[n,ln(n),n];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ln(t),n]})(),ca=_r&&_r.then,sr=zr&&zr.constructor,bi=!!Wr;var Ur=!1,po=Wr?()=>{Wr.then(Xn)}:Me.setImmediate?setImmediate.bind(null,Xn):Me.MutationObserver?()=>{var n=document.createElement("div");new MutationObserver(()=>{Xn(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")}:()=>{setTimeout(Xn,0)},En=function(n,t){Cn.push([n,t]),wr&&(po(),wr=!1)},Gr=!0,wr=!0,Yt=[],lr=[],Jr=null,Qr=On,tn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Mi,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(n=>{try{Mi(n[0],n[1])}catch{}})}},W=tn,Cn=[],Ht=0,ur=[];function Y(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ve,this._lib=!1;var t=this._PSD=W;if(mt&&(this._stackHolder=Wt(),this._prev=null,this._numPrev=0),typeof n!="function"){if(n!==Pn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Zr(this,this._value))}this._state=null,this._value=null,++t.ref,fa(this,n)}const Xr={get:function(){var n=W,t=kr;function e(r,i){var a=!n.global&&(n!==W||t!==kr);const o=a&&!Dt();var s=new Y((l,d)=>{yi(this,new da(Dr(r,n,a,o),Dr(i,n,a,o),l,d,n))});return mt&&pa(s,this),s}return e.prototype=Pn,e},set:function(n){wt(this,"then",n&&n.prototype===Pn?Xr:{get:function(){return n},set:Xr.set})}};function da(n,t,e,r,i){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof t=="function"?t:null,this.resolve=e,this.reject=r,this.psd=i}function fa(n,t){try{t(e=>{if(n._state===null){if(e===n)throw new TypeError("A promise cannot be resolved with itself.");var r=n._lib&&Rn();e&&typeof e.then=="function"?fa(n,(i,a)=>{e instanceof Y?e._then(i,a):e.then(i,a)}):(n._state=!0,n._value=e,ha(n)),r&&Ln()}},Zr.bind(null,n))}catch(e){Zr(n,e)}}function Zr(n,t){if(lr.push(t),n._state===null){var e=n._lib&&Rn();t=Qr(t),n._state=!1,n._value=t,mt&&t!==null&&typeof t=="object"&&!t._promise&&function(r,i,a){try{r.apply(null,a)}catch(o){i&&i(o)}}(()=>{var r=fi(t,"stack");t._promise=n,wt(t,"stack",{get:()=>Ur?r&&(r.get?r.get.apply(t):r.value):n.stack})}),function(r){Yt.some(i=>i._value===r._value)||Yt.push(r)}(n),ha(n),e&&Ln()}}function ha(n){var t=n._listeners;n._listeners=[];for(var e=0,r=t.length;e<r;++e)yi(n,t[e]);var i=n._PSD;--i.ref||i.finalize(),Ht===0&&(++Ht,En(()=>{--Ht==0&&vi()},[]))}function yi(n,t){if(n._state!==null){var e=n._state?t.onFulfilled:t.onRejected;if(e===null)return(n._state?t.resolve:t.reject)(n._value);++t.psd.ref,++Ht,En(go,[e,n,t])}else n._listeners.push(t)}function go(n,t,e){try{Jr=t;var r,i=t._value;t._state?r=n(i):(lr.length&&(lr=[]),r=n(i),lr.indexOf(i)===-1&&function(a){for(var o=Yt.length;o;)if(Yt[--o]._value===a._value)return void Yt.splice(o,1)}(t)),e.resolve(r)}catch(a){e.reject(a)}finally{Jr=null,--Ht==0&&vi(),--e.psd.ref||e.psd.finalize()}}function ma(n,t,e){if(t.length===e)return t;var r="";if(n._state===!1){var i,a,o=n._value;o!=null?(i=o.name||"Error",a=o.message||o,r=qr(o,0)):(i=o,a=""),t.push(i+(a?": "+a:"")+r)}return mt&&((r=qr(n._stackHolder,2))&&t.indexOf(r)===-1&&t.push(r),n._prev&&ma(n._prev,t,e)),t}function pa(n,t){var e=t?t._numPrev+1:0;e<100&&(n._prev=t,n._numPrev=e)}function Xn(){Rn()&&Ln()}function Rn(){var n=Gr;return Gr=!1,wr=!1,n}function Ln(){var n,t,e;do for(;Cn.length>0;)for(n=Cn,Cn=[],e=n.length,t=0;t<e;++t){var r=n[t];r[0].apply(null,r[1])}while(Cn.length>0);Gr=!0,wr=!0}function vi(){var n=Yt;Yt=[],n.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=ur.slice(0),e=t.length;e;)t[--e]()}function Zn(n){return new Y(Pn,!1,n)}function xe(n,t){var e=W;return function(){var r=Rn(),i=W;try{return St(e,!0),n.apply(this,arguments)}catch(a){t&&t(a)}finally{St(i,!1),r&&Ln()}}}un(Y.prototype,{then:Xr,_then:function(n,t){yi(this,new da(null,null,n,t,W))},catch:function(n){if(arguments.length===1)return this.then(null,n);var t=arguments[0],e=arguments[1];return typeof t=="function"?this.then(null,r=>r instanceof t?e(r):Zn(r)):this.then(null,r=>r&&r.name===t?e(r):Zn(r))},finally:function(n){return this.then(t=>(n(),t),t=>(n(),Zn(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Ur=!0;var n=ma(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=n),n}finally{Ur=!1}}},timeout:function(n,t){return n<1/0?new Y((e,r)=>{var i=setTimeout(()=>r(new U.Timeout(t)),n);this.then(e,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&wt(Y.prototype,Symbol.toStringTag,"Dexie.Promise"),tn.env=ga(),un(Y,{all:function(){var n=yt.apply(null,arguments).map($n);return new Y(function(t,e){n.length===0&&t([]);var r=n.length;n.forEach((i,a)=>Y.resolve(i).then(o=>{n[a]=o,--r||t(n)},e))})},resolve:n=>{if(n instanceof Y)return n;if(n&&typeof n.then=="function")return new Y((e,r)=>{n.then(e,r)});var t=new Y(Pn,!0,n);return pa(t,Jr),t},reject:Zn,race:function(){var n=yt.apply(null,arguments).map($n);return new Y((t,e)=>{n.map(r=>Y.resolve(r).then(t,e))})},PSD:{get:()=>W,set:n=>W=n},totalEchoes:{get:()=>kr},newPSD:Pt,usePSD:fn,scheduler:{get:()=>En,set:n=>{En=n}},rejectionMapper:{get:()=>Qr,set:n=>{Qr=n}},follow:(n,t)=>new Y((e,r)=>Pt((i,a)=>{var o=W;o.unhandleds=[],o.onunhandled=a,o.finalize=qt(function(){(function(s){function l(){s(),ur.splice(ur.indexOf(l),1)}ur.push(l),++Ht,En(()=>{--Ht==0&&vi()},[])})(()=>{this.unhandleds.length===0?i():a(this.unhandleds[0])})},o.finalize),n()},t,e,r))}),sr&&(sr.allSettled&&wt(Y,"allSettled",function(){const n=yt.apply(null,arguments).map($n);return new Y(t=>{n.length===0&&t([]);let e=n.length;const r=new Array(e);n.forEach((i,a)=>Y.resolve(i).then(o=>r[a]={status:"fulfilled",value:o},o=>r[a]={status:"rejected",reason:o}).then(()=>--e||t(r)))})}),sr.any&&typeof AggregateError<"u"&&wt(Y,"any",function(){const n=yt.apply(null,arguments).map($n);return new Y((t,e)=>{n.length===0&&e(new AggregateError([]));let r=n.length;const i=new Array(r);n.forEach((a,o)=>Y.resolve(a).then(s=>t(s),s=>{i[o]=s,--r||e(new AggregateError(i))}))})}));const Ye={awaits:0,echoes:0,id:0};var bo=0,cr=[],Sr=0,kr=0,yo=0;function Pt(n,t,e,r){var i=W,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++yo;var o=tn.env;a.env=bi?{Promise:Y,PromiseProp:{value:Y,configurable:!0,writable:!0},all:Y.all,race:Y.race,allSettled:Y.allSettled,any:Y.any,resolve:Y.resolve,reject:Y.reject,nthen:Ei(o.nthen,a),gthen:Ei(o.gthen,a)}:{},t&&Ue(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=fn(a,n,e,r);return a.ref===0&&a.finalize(),s}function dn(){return Ye.id||(Ye.id=++bo),++Ye.awaits,Ye.echoes+=100,Ye.id}function Dt(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=100*Ye.awaits,!0)}function $n(n){return Ye.echoes&&n&&n.constructor===sr?(dn(),n.then(t=>(Dt(),t),t=>(Dt(),Ke(t)))):n}function vo(n){++kr,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.id=0),cr.push(W),St(n,!0)}function _o(){var n=cr[cr.length-1];cr.pop(),St(n,!1)}function St(n,t){var e=W;if((t?!Ye.echoes||Sr++&&n===W:!Sr||--Sr&&n===W)||ba(t?vo.bind(null,n):_o),n!==W&&(W=n,e===tn&&(tn.env=ga()),bi)){var r=tn.env.Promise,i=n.env;_r.then=i.nthen,r.prototype.then=i.gthen,(e.global||n.global)&&(Object.defineProperty(Me,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function ga(){var n=Me.Promise;return bi?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(Me,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject,nthen:_r.then,gthen:n.prototype.then}:{}}function fn(n,t,e,r,i){var a=W;try{return St(n,!0),t(e,r,i)}finally{St(a,!1)}}function ba(n){ca.call(zr,n)}function Dr(n,t,e,r){return typeof n!="function"?n:function(){var i=W;e&&dn(),St(t,!0);try{return n.apply(this,arguments)}finally{St(i,!1),r&&ba(Dt)}}}function Ei(n,t){return function(e,r){return n.call(this,Dr(e,t),Dr(r,t))}}(""+ca).indexOf("[native code]")===-1&&(dn=Dt=ve);function Mi(n,t){var e;try{e=t.onuncatched(n)}catch{}if(e!==!1)try{var r,i={promise:t,reason:n};if(Me.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Ue(r,i)):Me.CustomEvent&&Ue(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&Me.dispatchEvent&&(dispatchEvent(r),!Me.PromiseRejectionEvent&&Me.onunhandledrejection))try{Me.onunhandledrejection(r)}catch{}mt&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${n.stack||n}`)}catch{}}var Ke=Y.reject;function $r(n,t,e,r){if(n.idbdb&&(n._state.openComplete||W.letThrough||n._vip)){var i=n._createTransaction(t,e,n._dbSchema);try{i.create(),n._state.PR1398_maxLoop=3}catch(a){return a.name===pi.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>$r(n,t,e,r))):Ke(a)}return i._promise(t,(a,o)=>Pt(()=>(W.trans=i,r(a,o,i)))).then(a=>i._completion.then(()=>a))}if(n._state.openComplete)return Ke(new U.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen)return Ke(new U.DatabaseClosed);n.open().catch(ve)}return n._state.dbReadyPromise.then(()=>$r(n,t,e,r))}const Bt=String.fromCharCode(65535),gt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Mn=[],Or=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),wo=Or,ko=Or,ya=n=>!/(dexie\.js|dexie\.min\.js)/.test(n);function zt(n,t){return n?t?function(){return n.apply(this,arguments)&&t.apply(this,arguments)}:n:t}const va={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function er(n){return typeof n!="string"||/\./.test(n)?t=>t:t=>(t[n]===void 0&&n in t&&delete(t=Bn(t))[n],t)}function Do(){throw U.Type()}function je(n,t){try{const e=xi(n),r=xi(t);if(e!==r)return e==="Array"?1:r==="Array"?-1:e==="binary"?1:r==="binary"?-1:e==="string"?1:r==="string"?-1:e==="Date"?1:r!=="Date"?NaN:-1;switch(e){case"number":case"Date":case"string":return n>t?1:n<t?-1:0;case"binary":return function(i,a){const o=i.length,s=a.length,l=o<s?o:s;for(let d=0;d<l;++d)if(i[d]!==a[d])return i[d]<a[d]?-1:1;return o===s?0:o<s?-1:1}(Ti(n),Ti(t));case"Array":return function(i,a){const o=i.length,s=a.length,l=o<s?o:s;for(let d=0;d<l;++d){const m=je(i[d],a[d]);if(m!==0)return m}return o===s?0:o<s?-1:1}(n,t)}}catch{}return NaN}function xi(n){const t=typeof n;if(t!=="object")return t;if(ArrayBuffer.isView(n))return"binary";const e=Hr(n);return e==="ArrayBuffer"?"binary":e}function Ti(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}class Co{_trans(t,e,r){const i=this._tx||W.trans,a=this.name;function o(l,d,m){if(!m.schema[a])throw new U.NotFound("Table "+a+" not part of transaction");return e(m.idbtrans,m)}const s=Rn();try{return i&&i.db===this.db?i===W.trans?i._promise(t,o,r):Pt(()=>i._promise(t,o,r),{trans:i,transless:W.transless||W}):$r(this.db,t,[this.name],o)}finally{s&&Ln()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(e)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(He(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=Fe(t);if(e.length===1)return this.where(e[0]).equals(t[e[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&e.every(m=>d.keyPath.indexOf(m)>=0)&&d.keyPath.every(m=>e.indexOf(m)>=0))[0];if(r&&this.db._maxKey!==Bt)return this.where(r.name).equals(r.keyPath.map(d=>t[d]));!r&&mt&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:i}=this.schema,a=this.db._deps.indexedDB;function o(d,m){return a.cmp(d,m)===0}const[s,l]=e.reduce(([d,m],f)=>{const c=i[f],g=t[f];return[d||c,d||!c?zt(m,c&&c.multi?p=>{const y=kt(p,f);return He(y)&&y.some(_=>o(g,_))}:p=>o(g,kt(p,f))):m]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(l):r?this.filter(l):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,He(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){const{db:e,name:r}=this;this.schema.mappedClass=t,t.prototype instanceof Do&&(t=class extends t{get db(){return e}table(){return r}});const i=new Set;for(let o=t.prototype;o;o=ln(o))Object.getOwnPropertyNames(o).forEach(s=>i.add(s));const a=o=>{if(!o)return o;const s=Object.create(t.prototype);for(let l in o)if(!i.has(l))try{s[l]=o[l]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=a,this.hook("reading",a),t}defineClass(){return this.mapToClass(function(t){Ue(this,t)})}add(t,e){const{auto:r,keyPath:i}=this.schema.primKey;let a=t;return i&&r&&(a=er(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:e!=null?[e]:null,values:[a]})).then(o=>o.numFailures?Y.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{rt(t,i,o)}catch{}return o})}update(t,e){if(typeof t!="object"||He(t))return this.where(":id").equals(t).modify(e);{const r=kt(t,this.schema.primKey.keyPath);if(r===void 0)return Ke(new U.InvalidArgument("Given object does not contain its primary key"));try{typeof e!="function"?Fe(e).forEach(i=>{rt(t,i,e[i])}):e(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(e)}}put(t,e){const{auto:r,keyPath:i}=this.schema.primKey;let a=t;return i&&r&&(a=er(i)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[a],keys:e!=null?[e]:null})).then(o=>o.numFailures?Y.reject(o.failures[0]):o.lastResult).then(o=>{if(i)try{rt(t,i,o)}catch{}return o})}delete(t){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"delete",keys:[t]})).then(e=>e.numFailures?Y.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:va})).then(t=>t.numFailures?Y.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",e=>this.core.getMany({keys:t,trans:e}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,e,r){const i=Array.isArray(e)?e:void 0,a=(r=r||(i?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let m=l&&s?t.map(er(l)):t;return this.core.mutate({trans:o,type:"add",keys:i,values:m,wantResults:a}).then(({numFailures:f,results:c,lastResult:g,failures:p})=>{if(f===0)return a?c:g;throw new Zt(`${this.name}.bulkAdd(): ${f} of ${d} operations failed`,p)})})}bulkPut(t,e,r){const i=Array.isArray(e)?e:void 0,a=(r=r||(i?void 0:e))?r.allKeys:void 0;return this._trans("readwrite",o=>{const{auto:s,keyPath:l}=this.schema.primKey;if(l&&i)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");const d=t.length;let m=l&&s?t.map(er(l)):t;return this.core.mutate({trans:o,type:"put",keys:i,values:m,wantResults:a}).then(({numFailures:f,results:c,lastResult:g,failures:p})=>{if(f===0)return a?c:g;throw new Zt(`${this.name}.bulkPut(): ${f} of ${d} operations failed`,p)})})}bulkUpdate(t){const e=this.core,r=t.map(o=>o.key),i=t.map(o=>o.changes),a=[];return this._trans("readwrite",o=>e.getMany({trans:o,keys:r,cache:"clone"}).then(s=>{const l=[],d=[];t.forEach(({key:f,changes:c},g)=>{const p=s[g];if(p){for(const y of Object.keys(c)){const _=c[y];if(y===this.schema.primKey.keyPath){if(je(_,f)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else rt(p,y,_)}a.push(g),l.push(f),d.push(p)}});const m=l.length;return e.mutate({trans:o,type:"put",keys:l,values:d,updates:{keys:r,changeSpecs:i}}).then(({numFailures:f,failures:c})=>{if(f===0)return m;for(const g of Object.keys(c)){const p=a[Number(g)];if(p!=null){const y=c[g];delete c[g],c[p]=y}}throw new Zt(`${this.name}.bulkUpdate(): ${f} of ${m} operations failed`,c)})}))}bulkDelete(t){const e=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:a})=>{if(r===0)return i;throw new Zt(`${this.name}.bulkDelete(): ${r} of ${e} operations failed`,a)})}}function xn(n){var t={},e=function(s,l){if(l){for(var d=arguments.length,m=new Array(d-1);--d;)m[d-1]=arguments[d];return t[s].subscribe.apply(null,m),n}if(typeof s=="string")return t[s]};e.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return e;function a(s,l,d){if(typeof s=="object")return o(s);l||(l=mo),d||(d=ve);var m={subscribers:[],fire:d,subscribe:function(f){m.subscribers.indexOf(f)===-1&&(m.subscribers.push(f),m.fire=l(m.fire,f))},unsubscribe:function(f){m.subscribers=m.subscribers.filter(function(c){return c!==f}),m.fire=m.subscribers.reduce(l,d)}};return t[s]=e[s]=m,m}function o(s){Fe(s).forEach(function(l){var d=s[l];if(He(d))a(l,s[l][0],s[l][1]);else{if(d!=="asap")throw new U.InvalidArgument("Invalid event config");var m=a(l,On,function(){for(var f=arguments.length,c=new Array(f);f--;)c[f]=arguments[f];m.subscribers.forEach(function(g){ta(function(){g.apply(null,c)})})})}})}}function wn(n,t){return $t(t).from({prototype:n}),t}function Jt(n,t){return!(n.filter||n.algorithm||n.or)&&(t?n.justLimit:!n.replayFilter)}function Ar(n,t){n.filter=zt(n.filter,t)}function jr(n,t,e){var r=n.replayFilter;n.replayFilter=r?()=>zt(r(),t()):t,n.justLimit=e&&!r}function dr(n,t){if(n.isPrimKey)return t.primaryKey;const e=t.getIndexByKeyPath(n.index);if(!e)throw new U.Schema("KeyPath "+n.index+" on object store "+t.name+" is not indexed");return e}function Ii(n,t,e){const r=dr(n,t.schema);return t.openCursor({trans:e,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:r,range:n.range}})}function tr(n,t,e,r){const i=n.replayFilter?zt(n.filter,n.replayFilter()):n.filter;if(n.or){const a={},o=(s,l,d)=>{if(!i||i(l,d,c=>l.stop(c),c=>l.fail(c))){var m=l.primaryKey,f=""+m;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(m)),it(a,f)||(a[f]=!0,t(s,l,d))}};return Promise.all([n.or._iterate(o,e),Oi(Ii(n,r,e),n.algorithm,o,!n.keysOnly&&n.valueMapper)])}return Oi(Ii(n,r,e),zt(n.algorithm,i),t,!n.keysOnly&&n.valueMapper)}function Oi(n,t,e,r){var i=xe(r?(a,o,s)=>e(r(a),o,s):e);return n.then(a=>{if(a)return a.start(()=>{var o=()=>a.continue();t&&!t(a,s=>o=s,s=>{a.stop(s),o=ve},s=>{a.fail(s),o=ve})||i(a.value,a,s=>o=s),o()})})}class Eo{_read(t,e){var r=this._ctx;return r.error?r.table._trans(null,Ke.bind(null,r.error)):r.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,Ke.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=zt(e.algorithm,t)}_iterate(t,e){return tr(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Ue(r,t),e._ctx=r,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read(r=>tr(e,t,r,e.table.core))}count(t){return this._read(e=>{const r=this._ctx,i=r.table.core;if(Jt(r,!0))return i.count({trans:e,query:{index:dr(r,i.schema),range:r.range}}).then(o=>Math.min(o,r.limit));var a=0;return tr(r,()=>(++a,!1),e,i).then(()=>a)}).then(t)}sortBy(t,e){const r=t.split(".").reverse(),i=r[0],a=r.length-1;function o(d,m){return m?o(d[r[m]],m-1):d[i]}var s=this._ctx.dir==="next"?1:-1;function l(d,m){var f=o(d,a),c=o(m,a);return f<c?-s:f>c?s:0}return this.toArray(function(d){return d.sort(l)}).then(e)}toArray(t){return this._read(e=>{var r=this._ctx;if(r.dir==="next"&&Jt(r,!0)&&r.limit>0){const{valueMapper:i}=r,a=dr(r,r.table.core.schema);return r.table.core.query({trans:e,limit:r.limit,values:!0,query:{index:a,range:r.range}}).then(({result:o})=>i?o.map(i):o)}{const i=[];return tr(r,a=>i.push(a),e,r.table.core).then(()=>i)}},t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,Jt(e)?jr(e,()=>{var r=t;return(i,a)=>r===0||(r===1?(--r,!1):(a(()=>{i.advance(r),r=0}),!1))}):jr(e,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),jr(this._ctx,()=>{var e=t;return function(r,i,a){return--e<=0&&i(a),e>=0}},!0),this}until(t,e){return Ar(this._ctx,function(r,i,a){return!t(r.value)||(i(a),e)}),this}first(t){return this.limit(1).toArray(function(e){return e[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var e,r;return Ar(this._ctx,function(i){return t(i.value)}),e=this._ctx,r=t,e.isMatch=zt(e.isMatch,r),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var r=[];return this.each(function(i,a){r.push(a.key)}).then(function(){return r}).then(t)}primaryKeys(t){var e=this._ctx;if(e.dir==="next"&&Jt(e,!0)&&e.limit>0)return this._read(i=>{var a=dr(e,e.table.core.schema);return e.table.core.query({trans:i,values:!1,limit:e.limit,query:{index:a,range:e.range}})}).then(({result:i})=>i).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each(function(i,a){r.push(a.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(e){return e[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var r={};return Ar(this._ctx,function(i){var a=i.primaryKey.toString(),o=it(r,a);return r[a]=!0,!o}),this}modify(t){var e=this._ctx;return this._write(r=>{var i;if(typeof t=="function")i=t;else{var a=Fe(t),o=a.length;i=function(y){for(var _=!1,v=0;v<o;++v){var k=a[v],b=t[k];kt(y,k)!==b&&(rt(y,k,b),_=!0)}return _}}const s=e.table.core,{outbound:l,extractKey:d}=s.schema.primaryKey,m=this.db._options.modifyChunkSize||200,f=[];let c=0;const g=[],p=(y,_)=>{const{failures:v,numFailures:k}=_;c+=y-k;for(let b of Fe(v))f.push(v[b])};return this.clone().primaryKeys().then(y=>{const _=v=>{const k=Math.min(m,y.length-v);return s.getMany({trans:r,keys:y.slice(v,v+k),cache:"immutable"}).then(b=>{const T=[],x=[],C=l?[]:null,O=[];for(let I=0;I<k;++I){const L=b[I],G={value:Bn(L),primKey:y[v+I]};i.call(G,G.value,G)!==!1&&(G.value==null?O.push(y[v+I]):l||je(d(L),d(G.value))===0?(x.push(G.value),l&&C.push(y[v+I])):(O.push(y[v+I]),T.push(G.value)))}const M=Jt(e)&&e.limit===1/0&&(typeof t!="function"||t===Fr)&&{index:e.index,range:e.range};return Promise.resolve(T.length>0&&s.mutate({trans:r,type:"add",values:T}).then(I=>{for(let L in I.failures)O.splice(parseInt(L),1);p(T.length,I)})).then(()=>(x.length>0||M&&typeof t=="object")&&s.mutate({trans:r,type:"put",keys:C,values:x,criteria:M,changeSpec:typeof t!="function"&&t}).then(I=>p(x.length,I))).then(()=>(O.length>0||M&&t===Fr)&&s.mutate({trans:r,type:"delete",keys:O,criteria:M}).then(I=>p(O.length,I))).then(()=>y.length>v+k&&_(v+m))})};return _(0).then(()=>{if(f.length>0)throw new vr("Error modifying one or more objects",f,c,g);return y.length})})})}delete(){var t=this._ctx,e=t.range;return Jt(t)&&(t.isPrimKey&&!ko||e.type===3)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,a=e;return t.table.core.count({trans:r,query:{index:i,range:a}}).then(o=>t.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(({failures:s,lastResult:l,results:d,numFailures:m})=>{if(m)throw new vr("Could not delete some values",Object.keys(s).map(f=>s[f]),o-m);return o-m}))}):this.modify(Fr)}}const Fr=(n,t)=>t.value=null;function Mo(n,t){return n<t?-1:n===t?0:1}function xo(n,t){return n>t?-1:n===t?0:1}function Xe(n,t,e){var r=n instanceof wa?new n.Collection(n):n;return r._ctx.error=e?new e(t):new TypeError(t),r}function Qt(n){return new n.Collection(n,()=>_a("")).limit(0)}function To(n,t,e,r,i,a){for(var o=Math.min(n.length,r.length),s=-1,l=0;l<o;++l){var d=t[l];if(d!==r[l])return i(n[l],e[l])<0?n.substr(0,l)+e[l]+e.substr(l+1):i(n[l],r[l])<0?n.substr(0,l)+r[l]+e.substr(l+1):s>=0?n.substr(0,s)+t[s]+e.substr(s+1):null;i(n[l],d)<0&&(s=l)}return o<r.length&&a==="next"?n+e.substr(n.length):o<n.length&&a==="prev"?n.substr(0,e.length):s<0?null:n.substr(0,s)+r[s]+e.substr(s+1)}function nr(n,t,e,r){var i,a,o,s,l,d,m,f=e.length;if(!e.every(y=>typeof y=="string"))return Xe(n,"String expected.");function c(y){i=function(v){return v==="next"?k=>k.toUpperCase():k=>k.toLowerCase()}(y),a=function(v){return v==="next"?k=>k.toLowerCase():k=>k.toUpperCase()}(y),o=y==="next"?Mo:xo;var _=e.map(function(v){return{lower:a(v),upper:i(v)}}).sort(function(v,k){return o(v.lower,k.lower)});s=_.map(function(v){return v.upper}),l=_.map(function(v){return v.lower}),d=y,m=y==="next"?"":r}c("next");var g=new n.Collection(n,()=>Tt(s[0],l[f-1]+r));g._ondirectionchange=function(y){c(y)};var p=0;return g._addAlgorithm(function(y,_,v){var k=y.key;if(typeof k!="string")return!1;var b=a(k);if(t(b,l,p))return!0;for(var T=null,x=p;x<f;++x){var C=To(k,b,s[x],l[x],o,d);C===null&&T===null?p=x+1:(T===null||o(T,C)>0)&&(T=C)}return _(T!==null?function(){y.continue(T+m)}:v),!1}),g}function Tt(n,t,e,r){return{type:2,lower:n,upper:t,lowerOpen:e,upperOpen:r}}function _a(n){return{type:1,lower:n,upper:n}}class wa{get Collection(){return this._ctx.table.db.Collection}between(t,e,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,e)>0||this._cmp(t,e)===0&&(r||i)&&(!r||!i)?Qt(this):new this.Collection(this,()=>Tt(t,e,!r,!i))}catch{return Xe(this,gt)}}equals(t){return t==null?Xe(this,gt):new this.Collection(this,()=>_a(t))}above(t){return t==null?Xe(this,gt):new this.Collection(this,()=>Tt(t,void 0,!0))}aboveOrEqual(t){return t==null?Xe(this,gt):new this.Collection(this,()=>Tt(t,void 0,!1))}below(t){return t==null?Xe(this,gt):new this.Collection(this,()=>Tt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Xe(this,gt):new this.Collection(this,()=>Tt(void 0,t))}startsWith(t){return typeof t!="string"?Xe(this,"String expected."):this.between(t,t+Bt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):nr(this,(e,r)=>e.indexOf(r[0])===0,[t],Bt)}equalsIgnoreCase(t){return nr(this,(e,r)=>e===r[0],[t],"")}anyOfIgnoreCase(){var t=yt.apply(Xt,arguments);return t.length===0?Qt(this):nr(this,(e,r)=>r.indexOf(e)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=yt.apply(Xt,arguments);return t.length===0?Qt(this):nr(this,(e,r)=>r.some(i=>e.indexOf(i)===0),t,Bt)}anyOf(){const t=yt.apply(Xt,arguments);let e=this._cmp;try{t.sort(e)}catch{return Xe(this,gt)}if(t.length===0)return Qt(this);const r=new this.Collection(this,()=>Tt(t[0],t[t.length-1]));r._ondirectionchange=a=>{e=a==="next"?this._ascending:this._descending,t.sort(e)};let i=0;return r._addAlgorithm((a,o,s)=>{const l=a.key;for(;e(l,t[i])>0;)if(++i,i===t.length)return o(s),!1;return e(l,t[i])===0||(o(()=>{a.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[-(1/0),t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=yt.apply(Xt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Xe(this,gt)}const e=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[-(1/0),i]],null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const r=this._cmp,i=this._ascending,a=this._descending,o=this._min,s=this._max;if(t.length===0)return Qt(this);if(!t.every(k=>k[0]!==void 0&&k[1]!==void 0&&i(k[0],k[1])<=0))return Xe(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);const l=!e||e.includeLowers!==!1,d=e&&e.includeUppers===!0;let m,f=i;function c(k,b){return f(k[0],b[0])}try{m=t.reduce(function(k,b){let T=0,x=k.length;for(;T<x;++T){const C=k[T];if(r(b[0],C[1])<0&&r(b[1],C[0])>0){C[0]=o(C[0],b[0]),C[1]=s(C[1],b[1]);break}}return T===x&&k.push(b),k},[]),m.sort(c)}catch{return Xe(this,gt)}let g=0;const p=d?k=>i(k,m[g][1])>0:k=>i(k,m[g][1])>=0,y=l?k=>a(k,m[g][0])>0:k=>a(k,m[g][0])>=0;let _=p;const v=new this.Collection(this,()=>Tt(m[0][0],m[m.length-1][1],!l,!d));return v._ondirectionchange=k=>{k==="next"?(_=p,f=i):(_=y,f=a),m.sort(c)},v._addAlgorithm((k,b,T)=>{for(var x=k.key;_(x);)if(++g,g===m.length)return b(T),!1;return!!function(C){return!p(C)&&!y(C)}(x)||(this._cmp(x,m[g][1])===0||this._cmp(x,m[g][0])===0||b(()=>{f===i?k.continue(m[g][0]):k.continue(m[g][1])}),!1)}),v}startsWithAnyOf(){const t=yt.apply(Xt,arguments);return t.every(e=>typeof e=="string")?t.length===0?Qt(this):this.inAnyRange(t.map(e=>[e,e+Bt])):Xe(this,"startsWithAnyOf() only works with strings")}}function ft(n){return xe(function(t){return Sn(t),n(t.target.error),!1})}function Sn(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}const At=xn(null,"storagemutated");class Io{_lock(){return Dn(!W.global),++this._reculock,this._reculock!==1||W.global||(W.lockOwnerFor=this),this}_unlock(){if(Dn(!W.global),--this._reculock==0)for(W.global||(W.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{fn(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&W.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,r=this.db._state.dbOpenError;if(Dn(!this.idbtrans),!t&&!e)switch(r&&r.name){case"DatabaseClosedError":throw new U.DatabaseClosed(r);case"MissingAPIError":throw new U.MissingAPI(r.message,r);default:throw new U.OpenFailed(r)}if(!this.active)throw new U.TransactionInactive;return Dn(this._completion._state===null),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=xe(i=>{Sn(i),this._reject(t.error)}),t.onabort=xe(i=>{Sn(i),this.active&&this._reject(new U.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=xe(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&At.storagemutated.fire(t.mutatedParts)}),this}_promise(t,e,r){if(t==="readwrite"&&this.mode!=="readwrite")return Ke(new U.ReadOnly("Transaction is readonly"));if(!this.active)return Ke(new U.TransactionInactive);if(this._locked())return new Y((a,o)=>{this._blockedFuncs.push([()=>{this._promise(t,e,r).then(a,o)},W])});if(r)return Pt(()=>{var a=new Y((o,s)=>{this._lock();const l=e(o,s,this);l&&l.then&&l.then(o,s)});return a.finally(()=>this._unlock()),a._lib=!0,a});var i=new Y((a,o)=>{var s=e(a,o,this);s&&s.then&&s.then(a,o)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const r=Y.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then(()=>r);else{e._waitingFor=r,e._waitingQueue=[];var i=e.idbtrans.objectStore(e.storeNames[0]);(function o(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var a=e._waitingFor;return new Y((o,s)=>{r.then(l=>e._waitingQueue.push(xe(o.bind(null,l))),l=>e._waitingQueue.push(xe(s.bind(null,l)))).finally(()=>{e._waitingFor===a&&(e._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(it(e,t))return e[t];const r=this.schema[t];if(!r)throw new U.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),e[t]=i,i}}function ei(n,t,e,r,i,a,o){return{name:n,keyPath:t,unique:e,multi:r,auto:i,compound:a,src:(e&&!o?"&":"")+(r?"*":"")+(i?"++":"")+ka(t)}}function ka(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function Da(n,t,e){return{name:n,primKey:t,indexes:e,mappedClass:null,idxByName:na(e,r=>[r.name,r])}}let An=n=>{try{return n.only([[]]),An=()=>[[]],[[]]}catch{return An=()=>Bt,Bt}};function ti(n){return n==null?()=>{}:typeof n=="string"?function(t){return t.split(".").length===1?e=>e[t]:e=>kt(e,t)}(n):t=>kt(t,n)}function Pi(n){return[].slice.call(n)}let Oo=0;function Tn(n){return n==null?":id":typeof n=="string"?n:`[${n.join("+")}]`}function Po(n,t,e){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:m,lowerOpen:f,upperOpen:c}=l;return d===void 0?m===void 0?null:t.upperBound(m,!!c):m===void 0?t.lowerBound(d,!!f):t.bound(d,m,!!f,!!c)}const{schema:i,hasGetAll:a}=function(l,d){const m=Pi(l.objectStoreNames);return{schema:{name:l.name,tables:m.map(f=>d.objectStore(f)).map(f=>{const{keyPath:c,autoIncrement:g}=f,p=He(c),y=c==null,_={},v={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:y,compound:p,keyPath:c,autoIncrement:g,unique:!0,extractKey:ti(c)},indexes:Pi(f.indexNames).map(k=>f.index(k)).map(k=>{const{name:b,unique:T,multiEntry:x,keyPath:C}=k,O={name:b,compound:He(C),keyPath:C,unique:T,multiEntry:x,extractKey:ti(C)};return _[Tn(C)]=O,O}),getIndexByKeyPath:k=>_[Tn(k)]};return _[":id"]=v.primaryKey,c!=null&&(_[Tn(c)]=v.primaryKey),v})},hasGetAll:m.length>0&&"getAll"in d.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(n,e),o=i.tables.map(l=>function(d){const m=d.name;return{name:m,schema:d,mutate:function({trans:f,type:c,keys:g,values:p,range:y}){return new Promise((_,v)=>{_=xe(_);const k=f.objectStore(m),b=k.keyPath==null,T=c==="put"||c==="add";if(!T&&c!=="delete"&&c!=="deleteRange")throw new Error("Invalid operation type: "+c);const{length:x}=g||p||{length:1};if(g&&p&&g.length!==p.length)throw new Error("Given keys array must have same length as given values array.");if(x===0)return _({numFailures:0,failures:{},results:[],lastResult:void 0});let C;const O=[],M=[];let I=0;const L=X=>{++I,Sn(X)};if(c==="deleteRange"){if(y.type===4)return _({numFailures:I,failures:M,results:[],lastResult:void 0});y.type===3?O.push(C=k.clear()):O.push(C=k.delete(r(y)))}else{const[X,V]=T?b?[p,g]:[p,null]:[g,null];if(T)for(let Z=0;Z<x;++Z)O.push(C=V&&V[Z]!==void 0?k[c](X[Z],V[Z]):k[c](X[Z])),C.onerror=L;else for(let Z=0;Z<x;++Z)O.push(C=k[c](X[Z])),C.onerror=L}const G=X=>{const V=X.target.result;O.forEach((Z,pe)=>Z.error!=null&&(M[pe]=Z.error)),_({numFailures:I,failures:M,results:c==="delete"?g:O.map(Z=>Z.result),lastResult:V})};C.onerror=X=>{L(X),G(X)},C.onsuccess=G})},getMany:({trans:f,keys:c})=>new Promise((g,p)=>{g=xe(g);const y=f.objectStore(m),_=c.length,v=new Array(_);let k,b=0,T=0;const x=O=>{const M=O.target;v[M._pos]=M.result,++T===b&&g(v)},C=ft(p);for(let O=0;O<_;++O)c[O]!=null&&(k=y.get(c[O]),k._pos=O,k.onsuccess=x,k.onerror=C,++b);b===0&&g(v)}),get:({trans:f,key:c})=>new Promise((g,p)=>{g=xe(g);const y=f.objectStore(m).get(c);y.onsuccess=_=>g(_.target.result),y.onerror=ft(p)}),query:function(f){return c=>new Promise((g,p)=>{g=xe(g);const{trans:y,values:_,limit:v,query:k}=c,b=v===1/0?void 0:v,{index:T,range:x}=k,C=y.objectStore(m),O=T.isPrimaryKey?C:C.index(T.name),M=r(x);if(v===0)return g({result:[]});if(f){const I=_?O.getAll(M,b):O.getAllKeys(M,b);I.onsuccess=L=>g({result:L.target.result}),I.onerror=ft(p)}else{let I=0;const L=_||!("openKeyCursor"in O)?O.openCursor(M):O.openKeyCursor(M),G=[];L.onsuccess=X=>{const V=L.result;return V?(G.push(_?V.value:V.primaryKey),++I===v?g({result:G}):void V.continue()):g({result:G})},L.onerror=ft(p)}})}(a),openCursor:function({trans:f,values:c,query:g,reverse:p,unique:y}){return new Promise((_,v)=>{_=xe(_);const{index:k,range:b}=g,T=f.objectStore(m),x=k.isPrimaryKey?T:T.index(k.name),C=p?y?"prevunique":"prev":y?"nextunique":"next",O=c||!("openKeyCursor"in x)?x.openCursor(r(b),C):x.openKeyCursor(r(b),C);O.onerror=ft(v),O.onsuccess=xe(M=>{const I=O.result;if(!I)return void _(null);I.___id=++Oo,I.done=!1;const L=I.continue.bind(I);let G=I.continuePrimaryKey;G&&(G=G.bind(I));const X=I.advance.bind(I),V=()=>{throw new Error("Cursor not stopped")};I.trans=f,I.stop=I.continue=I.continuePrimaryKey=I.advance=()=>{throw new Error("Cursor not started")},I.fail=xe(v),I.next=function(){let Z=1;return this.start(()=>Z--?this.continue():this.stop()).then(()=>this)},I.start=Z=>{const pe=new Promise((J,re)=>{J=xe(J),O.onerror=ft(re),I.fail=re,I.stop=ge=>{I.stop=I.continue=I.continuePrimaryKey=I.advance=V,J(ge)}}),ie=()=>{if(O.result)try{Z()}catch(J){I.fail(J)}else I.done=!0,I.start=()=>{throw new Error("Cursor behind last entry")},I.stop()};return O.onsuccess=xe(J=>{O.onsuccess=ie,ie()}),I.continue=L,I.continuePrimaryKey=G,I.advance=X,ie(),pe},_(I)},v)})},count({query:f,trans:c}){const{index:g,range:p}=f;return new Promise((y,_)=>{const v=c.objectStore(m),k=g.isPrimaryKey?v:v.index(g.name),b=r(p),T=b?k.count(b):k.count();T.onsuccess=xe(x=>y(x.target.result)),T.onerror=ft(_)})}}}(l)),s={};return o.forEach(l=>s[l.name]=l),{stack:"dbcore",transaction:n.transaction.bind(n),table(l){if(!s[l])throw new Error(`Table '${l}' not found`);return s[l]},MIN_KEY:-1/0,MAX_KEY:An(t),schema:i}}function ni({_novip:n},t){const e=t.db,r=function(i,a,{IDBKeyRange:o,indexedDB:s},l){return{dbcore:function(m,f){return f.reduce((c,{create:g})=>({...c,...g(c)}),m)}(Po(a,o,l),i.dbcore)}}(n._middlewares,e,n._deps,t);n.core=r.dbcore,n.tables.forEach(i=>{const a=i.name;n.core.schema.tables.some(o=>o.name===a)&&(i.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=i.core))})}function Cr({_novip:n},t,e,r){e.forEach(i=>{const a=r[i];t.forEach(o=>{const s=fi(o,i);(!s||"value"in s&&s.value===void 0)&&(o===n.Transaction.prototype||o instanceof n.Transaction?wt(o,i,{get(){return this.table(i)},set(l){$i(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[i]=new n.Table(i,a))})})}function ri({_novip:n},t){t.forEach(e=>{for(let r in e)e[r]instanceof n.Table&&delete e[r]})}function So(n,t){return n._cfg.version-t._cfg.version}function Ao(n,t,e,r){const i=n._dbSchema,a=n._createTransaction("readwrite",n._storeNames,i);a.create(e),a._completion.catch(r);const o=a._reject.bind(a),s=W.transless||W;Pt(()=>{W.trans=a,W.transless=s,t===0?(Fe(i).forEach(l=>{Nr(e,l,i[l].primKey,i[l].indexes)}),ni(n,e),Y.follow(()=>n.on.populate.fire(a)).catch(o)):function({_novip:l},d,m,f){const c=[],g=l._versions;let p=l._dbSchema=ai(l,l.idbdb,f),y=!1;function _(){return c.length?Y.resolve(c.shift()(m.idbtrans)).then(_):Y.resolve()}return g.filter(v=>v._cfg.version>=d).forEach(v=>{c.push(()=>{const k=p,b=v._cfg.dbschema;oi(l,k,f),oi(l,b,f),p=l._dbSchema=b;const T=Ca(k,b);T.add.forEach(C=>{Nr(f,C[0],C[1].primKey,C[1].indexes)}),T.change.forEach(C=>{if(C.recreate)throw new U.Upgrade("Not yet support for changing primary key");{const O=f.objectStore(C.name);C.add.forEach(M=>ii(O,M)),C.change.forEach(M=>{O.deleteIndex(M.name),ii(O,M)}),C.del.forEach(M=>O.deleteIndex(M))}});const x=v._cfg.contentUpgrade;if(x&&v._cfg.version>d){ni(l,f),m._memoizedTables={},y=!0;let C=ra(b);T.del.forEach(L=>{C[L]=k[L]}),ri(l,[l.Transaction.prototype]),Cr(l,[l.Transaction.prototype],Fe(C),C),m.schema=C;const O=hi(x);let M;O&&dn();const I=Y.follow(()=>{if(M=x(m),M&&O){var L=Dt.bind(null,null);M.then(L,L)}});return M&&typeof M.then=="function"?Y.resolve(M):I.then(()=>M)}}),c.push(k=>{(!y||!wo)&&function(b,T){[].slice.call(T.db.objectStoreNames).forEach(x=>b[x]==null&&T.db.deleteObjectStore(x))}(v._cfg.dbschema,k),ri(l,[l.Transaction.prototype]),Cr(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),m.schema=l._dbSchema})}),_().then(()=>{var v,k;k=f,Fe(v=p).forEach(b=>{k.db.objectStoreNames.contains(b)||Nr(k,b,v[b].primKey,v[b].indexes)})})}(n,t,a,e).catch(o)})}function Ca(n,t){const e={del:[],add:[],change:[]};let r;for(r in n)t[r]||e.del.push(r);for(r in t){const i=n[r],a=t[r];if(i){const o={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Or)o.recreate=!0,e.change.push(o);else{const s=i.idxByName,l=a.idxByName;let d;for(d in s)l[d]||o.del.push(d);for(d in l){const m=s[d],f=l[d];m?m.src!==f.src&&o.change.push(f):o.add.push(f)}(o.del.length>0||o.add.length>0||o.change.length>0)&&e.change.push(o)}}else e.add.push([r,a])}return e}function Nr(n,t,e,r){const i=n.db.createObjectStore(t,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return r.forEach(a=>ii(i,a)),i}function ii(n,t){n.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ai(n,t,e){const r={};return yr(t.objectStoreNames,0).forEach(i=>{const a=e.objectStore(i);let o=a.keyPath;const s=ei(ka(o),o||"",!1,!1,!!a.autoIncrement,o&&typeof o!="string",!0),l=[];for(let m=0;m<a.indexNames.length;++m){const f=a.index(a.indexNames[m]);o=f.keyPath;var d=ei(f.name,o,!!f.unique,!!f.multiEntry,!1,o&&typeof o!="string",!1);l.push(d)}r[i]=Da(i,s,l)}),r}function oi({_novip:n},t,e){const r=e.db.objectStoreNames;for(let i=0;i<r.length;++i){const a=r[i],o=e.objectStore(a);n._hasGetAll="getAll"in o;for(let s=0;s<o.indexNames.length;++s){const l=o.indexNames[s],d=o.index(l).keyPath,m=typeof d=="string"?d:"["+yr(d).join("+")+"]";if(t[a]){const f=t[a].idxByName[m];f&&(f.name=l,delete t[a].idxByName[m],t[a].idxByName[l]=f)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Me.WorkerGlobalScope&&Me instanceof Me.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}class jo{_parseStoresSpec(t,e){Fe(t).forEach(r=>{if(t[r]!==null){var i=t[r].split(",").map((o,s)=>{const l=(o=o.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return ei(l,d||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),He(d),s===0)}),a=i.shift();if(a.multi)throw new U.Schema("Primary key cannot be multi-valued");i.forEach(o=>{if(o.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),e[r]=Da(r,a,i)}})}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?Ue(this._cfg.storesSource,t):t;const r=e._versions,i={};let a={};return r.forEach(o=>{Ue(i,o._cfg.storesSource),a=o._cfg.dbschema={},o._parseStoresSpec(i,a)}),e._dbSchema=a,ri(e,[e._allTables,e,e.Transaction.prototype]),Cr(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],Fe(a),a),e._storeNames=Fe(a),this}upgrade(t){return this._cfg.contentUpgrade=gi(this._cfg.contentUpgrade||ve,t),this}}function _i(n,t){let e=n._dbNamesDB;return e||(e=n._dbNamesDB=new Vt("__dbnames",{addons:[],indexedDB:n,IDBKeyRange:t}),e.version(1).stores({dbnames:"name"})),e.table("dbnames")}function wi(n){return n&&typeof n.databases=="function"}function si(n){return Pt(function(){return W.letThrough=!0,n()})}function Fo(){var n;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var e=function(){return indexedDB.databases().finally(t)};n=setInterval(e,100),e()}).finally(function(){return clearInterval(n)}):Promise.resolve()}function No(n){const t=n._state,{indexedDB:e}=n._deps;if(t.isBeingOpened||n.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?Ke(t.dbOpenError):n);mt&&(t.openCanceller._stackHolder=Wt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new U.DatabaseClosed("db.open() was cancelled")}let a=t.dbReadyResolve,o=null,s=!1;return Y.race([r,(typeof navigator>"u"?Y.resolve():Fo()).then(()=>new Y((l,d)=>{if(i(),!e)throw new U.MissingAPI;const m=n.name,f=t.autoSchema?e.open(m):e.open(m,Math.round(10*n.verno));if(!f)throw new U.MissingAPI;f.onerror=ft(d),f.onblocked=xe(n._fireOnBlocked),f.onupgradeneeded=xe(c=>{if(o=f.transaction,t.autoSchema&&!n._options.allowEmptyDB){f.onerror=Sn,o.abort(),f.result.close();const p=e.deleteDatabase(m);p.onsuccess=p.onerror=xe(()=>{d(new U.NoSuchDatabase(`Database ${m} doesnt exist`))})}else{o.onerror=ft(d);var g=c.oldVersion>Math.pow(2,62)?0:c.oldVersion;s=g<1,n._novip.idbdb=f.result,Ao(n,g/10,o,d)}},d),f.onsuccess=xe(()=>{o=null;const c=n._novip.idbdb=f.result,g=yr(c.objectStoreNames);if(g.length>0)try{const y=c.transaction((p=g).length===1?p[0]:p,"readonly");t.autoSchema?function({_novip:_},v,k){_.verno=v.version/10;const b=_._dbSchema=ai(0,v,k);_._storeNames=yr(v.objectStoreNames,0),Cr(_,[_._allTables],Fe(b),b)}(n,c,y):(oi(n,n._dbSchema,y),function(_,v){const k=Ca(ai(0,_.idbdb,v),_._dbSchema);return!(k.add.length||k.change.some(b=>b.add.length||b.change.length))}(n,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ni(n,y)}catch{}var p;Mn.push(n),c.onversionchange=xe(y=>{t.vcFired=!0,n.on("versionchange").fire(y)}),c.onclose=xe(y=>{n.on("close").fire(y)}),s&&function({indexedDB:y,IDBKeyRange:_},v){!wi(y)&&v!=="__dbnames"&&_i(y,_).put({name:v}).catch(ve)}(n._deps,m),l()},d)}))]).then(()=>(i(),t.onReadyBeingFired=[],Y.resolve(si(()=>n.on.ready.fire(n.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let d=t.onReadyBeingFired.reduce(gi,ve);return t.onReadyBeingFired=[],Y.resolve(si(()=>d(n.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>n).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return r===t.openCanceller&&n._close(),Ke(l)}).finally(()=>{t.openComplete=!0,a()})}function li(n){var t=a=>n.next(a),e=i(t),r=i(a=>n.throw(a));function i(a){return o=>{var s=a(o),l=s.value;return s.done?l:l&&typeof l.then=="function"?l.then(e,r):He(l)?Promise.all(l).then(e,r):e(l)}}return i(t)()}function Ko(n,t,e){var r=arguments.length;if(r<2)throw new U.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];e=i.pop();var a=ia(i);return[n,a,e]}function Ea(n,t,e,r,i){return Y.resolve().then(()=>{const a=W.transless||W,o=n._createTransaction(t,e,n._dbSchema,r),s={trans:o,transless:a};if(r)o.idbtrans=r.idbtrans;else try{o.create(),n._state.PR1398_maxLoop=3}catch(f){return f.name===pi.InvalidState&&n.isOpen()&&--n._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),n._close(),n.open().then(()=>Ea(n,t,e,null,i))):Ke(f)}const l=hi(i);let d;l&&dn();const m=Y.follow(()=>{if(d=i.call(o,o),d)if(l){var f=Dt.bind(null,null);d.then(f,f)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=li(d))},s);return(d&&typeof d.then=="function"?Y.resolve(d).then(f=>o.active?f:Ke(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):m.then(()=>d)).then(f=>(r&&o._resolve(),o._completion.then(()=>f))).catch(f=>(o._reject(f),Ke(f)))})}function rr(n,t,e){const r=He(n)?n.slice():[n];for(let i=0;i<e;++i)r.push(t);return r}const Bo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(n){return{...n,table(t){const e=n.table(t),{schema:r}=e,i={},a=[];function o(m,f,c){const g=Tn(m),p=i[g]=i[g]||[],y=m==null?0:typeof m=="string"?1:m.length,_=f>0,v={...c,isVirtual:_,keyTail:f,keyLength:y,extractKey:ti(m),unique:!_&&c.unique};return p.push(v),v.isPrimaryKey||a.push(v),y>1&&o(y===2?m[0]:m.slice(0,y-1),f+1,c),p.sort((k,b)=>k.keyTail-b.keyTail),v}const s=o(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(const m of r.indexes)o(m.keyPath,0,m);function l(m){const f=m.query.index;return f.isVirtual?{...m,query:{index:f,range:(c=m.query.range,g=f.keyTail,{type:c.type===1?2:c.type,lower:rr(c.lower,c.lowerOpen?n.MAX_KEY:n.MIN_KEY,g),lowerOpen:!0,upper:rr(c.upper,c.upperOpen?n.MIN_KEY:n.MAX_KEY,g),upperOpen:!0})}}:m;var c,g}return{...e,schema:{...r,primaryKey:s,indexes:a,getIndexByKeyPath:function(m){const f=i[Tn(m)];return f&&f[0]}},count:m=>e.count(l(m)),query:m=>e.query(l(m)),openCursor(m){const{keyTail:f,isVirtual:c,keyLength:g}=m.query.index;return c?e.openCursor(l(m)).then(p=>p&&function(y){return Object.create(y,{continue:{value:function(v){v!=null?y.continue(rr(v,m.reverse?n.MAX_KEY:n.MIN_KEY,f)):m.unique?y.continue(y.key.slice(0,g).concat(m.reverse?n.MIN_KEY:n.MAX_KEY,f)):y.continue()}},continuePrimaryKey:{value(v,k){y.continuePrimaryKey(rr(v,n.MAX_KEY,f),k)}},primaryKey:{get:()=>y.primaryKey},key:{get(){const v=y.key;return g===1?v[0]:v.slice(0,g)}},value:{get:()=>y.value}})}(p)):e.openCursor(m)}}}}}};function ki(n,t,e,r){return e=e||{},r=r||"",Fe(n).forEach(i=>{if(it(t,i)){var a=n[i],o=t[i];if(typeof a=="object"&&typeof o=="object"&&a&&o){const s=Hr(a);s!==Hr(o)?e[r+i]=t[i]:s==="Object"?ki(a,o,e,r+i+"."):a!==o&&(e[r+i]=t[i])}else a!==o&&(e[r+i]=t[i])}else e[r+i]=void 0}),Fe(t).forEach(i=>{it(n,i)||(e[r+i]=t[i])}),e}const Ro={stack:"dbcore",name:"HooksMiddleware",level:2,create:n=>({...n,table(t){const e=n.table(t),{primaryKey:r}=e.schema;return{...e,mutate(a){const o=W.trans,{deleting:s,creating:l,updating:d}=o.table(t).hook;switch(a.type){case"add":if(l.fire===ve)break;return o._promise("readwrite",()=>m(a),!0);case"put":if(l.fire===ve&&d.fire===ve)break;return o._promise("readwrite",()=>m(a),!0);case"delete":if(s.fire===ve)break;return o._promise("readwrite",()=>m(a),!0);case"deleteRange":if(s.fire===ve)break;return o._promise("readwrite",()=>function(c){return f(c.trans,c.range,1e4)}(a),!0)}return e.mutate(a);function m(c){const g=W.trans,p=c.keys||function(y,_){return _.type==="delete"?_.keys:_.keys||_.values.map(y.extractKey)}(r,c);if(!p)throw new Error("Keys missing");return(c=c.type==="add"||c.type==="put"?{...c,keys:p}:{...c}).type!=="delete"&&(c.values=[...c.values]),c.keys&&(c.keys=[...c.keys]),function(y,_,v){return _.type==="add"?Promise.resolve([]):y.getMany({trans:_.trans,keys:v,cache:"immutable"})}(e,c,p).then(y=>{const _=p.map((v,k)=>{const b=y[k],T={onerror:null,onsuccess:null};if(c.type==="delete")s.fire.call(T,v,b,g);else if(c.type==="add"||b===void 0){const x=l.fire.call(T,v,c.values[k],g);v==null&&x!=null&&(v=x,c.keys[k]=v,r.outbound||rt(c.values[k],r.keyPath,v))}else{const x=ki(b,c.values[k]),C=d.fire.call(T,x,v,b,g);if(C){const O=c.values[k];Object.keys(C).forEach(M=>{it(O,M)?O[M]=C[M]:rt(O,M,C[M])})}}return T});return e.mutate(c).then(({failures:v,results:k,numFailures:b,lastResult:T})=>{for(let x=0;x<p.length;++x){const C=k?k[x]:p[x],O=_[x];C==null?O.onerror&&O.onerror(v[x]):O.onsuccess&&O.onsuccess(c.type==="put"&&y[x]?c.values[x]:C)}return{failures:v,results:k,numFailures:b,lastResult:T}}).catch(v=>(_.forEach(k=>k.onerror&&k.onerror(v)),Promise.reject(v)))})}function f(c,g,p){return e.query({trans:c,values:!1,query:{index:r,range:g},limit:p}).then(({result:y})=>m({type:"delete",keys:y,trans:c}).then(_=>_.numFailures>0?Promise.reject(_.failures[0]):y.length<p?{failures:[],numFailures:0,lastResult:void 0}:f(c,{...g,lower:y[y.length-1],lowerOpen:!0},p)))}}}}})};function Ma(n,t,e){try{if(!t||t.keys.length<n.length)return null;const r=[];for(let i=0,a=0;i<t.keys.length&&a<n.length;++i)je(t.keys[i],n[a])===0&&(r.push(e?Bn(t.values[i]):t.values[i]),++a);return r.length===n.length?r:null}catch{return null}}const Lo={stack:"dbcore",level:-1,create:n=>({table:t=>{const e=n.table(t);return{...e,getMany:r=>{if(!r.cache)return e.getMany(r);const i=Ma(r.keys,r.trans._cache,r.cache==="clone");return i?Y.resolve(i):e.getMany(r).then(a=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Bn(a):a},a))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),e.mutate(r))}}})};function Di(n){return!("from"in n)}const bt=function(n,t){if(!this){const e=new bt;return n&&"d"in n&&Ue(e,n),e}Ue(this,arguments.length?{d:1,from:n,to:arguments.length>1?t:n}:{d:0})};function jn(n,t,e){const r=je(t,e);if(isNaN(r))return;if(r>0)throw RangeError();if(Di(n))return Ue(n,{from:t,to:e,d:1});const i=n.l,a=n.r;if(je(e,n.from)<0)return i?jn(i,t,e):n.l={from:t,to:e,d:1,l:null,r:null},Si(n);if(je(t,n.to)>0)return a?jn(a,t,e):n.r={from:t,to:e,d:1,l:null,r:null},Si(n);je(t,n.from)<0&&(n.from=t,n.l=null,n.d=a?a.d+1:1),je(e,n.to)>0&&(n.to=e,n.r=null,n.d=n.l?n.l.d+1:1);const o=!n.r;i&&!n.l&&Er(n,i),a&&o&&Er(n,a)}function Er(n,t){Di(t)||function e(r,{from:i,to:a,l:o,r:s}){jn(r,i,a),o&&e(r,o),s&&e(r,s)}(n,t)}function Yo(n,t){const e=ui(t);let r=e.next();if(r.done)return!1;let i=r.value;const a=ui(n);let o=a.next(i.from),s=o.value;for(;!r.done&&!o.done;){if(je(s.from,i.to)<=0&&je(s.to,i.from)>=0)return!0;je(i.from,s.from)<0?i=(r=e.next(s.from)).value:s=(o=a.next(i.from)).value}return!1}function ui(n){let t=Di(n)?null:{s:0,n};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&je(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||je(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Si(n){var t,e;const r=(((t=n.r)===null||t===void 0?void 0:t.d)||0)-(((e=n.l)===null||e===void 0?void 0:e.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const a=i==="r"?"l":"r",o={...n},s=n[i];n.from=s.from,n.to=s.to,n[i]=s[i],o[i]=s[a],n[a]=o,o.d=Ai(o)}n.d=Ai(n)}function Ai({r:n,l:t}){return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}un(bt.prototype,{add(n){return Er(this,n),this},addKey(n){return jn(this,n,n),this},addKeys(n){return n.forEach(t=>jn(this,t,t)),this},[Vr](){return ui(this)}});const Ho={stack:"dbcore",level:0,create:n=>{const t=n.schema.name,e=new bt(n.MIN_KEY,n.MAX_KEY);return{...n,table:r=>{const i=n.table(r),{schema:a}=i,{primaryKey:o}=a,{extractKey:s,outbound:l}=o,d={...i,mutate:c=>{const g=c.trans,p=g.mutatedParts||(g.mutatedParts={}),y=C=>{const O=`idb://${t}/${r}/${C}`;return p[O]||(p[O]=new bt)},_=y(""),v=y(":dels"),{type:k}=c;let[b,T]=c.type==="deleteRange"?[c.range]:c.type==="delete"?[c.keys]:c.values.length<50?[[],c.values]:[];const x=c.trans._cache;return i.mutate(c).then(C=>{if(He(b)){k!=="delete"&&(b=C.results),_.addKeys(b);const O=Ma(b,x);O||k==="add"||v.addKeys(b),(O||T)&&function(M,I,L,G){function X(V){const Z=M(V.name||"");function pe(J){return J!=null?V.extractKey(J):null}const ie=J=>V.multiEntry&&He(J)?J.forEach(re=>Z.addKey(re)):Z.addKey(J);(L||G).forEach((J,re)=>{const ge=L&&pe(L[re]),de=G&&pe(G[re]);je(ge,de)!==0&&(ge!=null&&ie(ge),de!=null&&ie(de))})}I.indexes.forEach(X)}(y,a,O,T)}else if(b){const O={from:b.lower,to:b.upper};v.add(O),_.add(O)}else _.add(e),v.add(e),a.indexes.forEach(O=>y(O.name).add(e));return C})}},m=({query:{index:c,range:g}})=>{var p,y;return[c,new bt((p=g.lower)!==null&&p!==void 0?p:n.MIN_KEY,(y=g.upper)!==null&&y!==void 0?y:n.MAX_KEY)]},f={get:c=>[o,new bt(c.key)],getMany:c=>[o,new bt().addKeys(c.keys)],count:m,query:m,openCursor:m};return Fe(f).forEach(c=>{d[c]=function(g){const{subscr:p}=W;if(p){const y=T=>{const x=`idb://${t}/${r}/${T}`;return p[x]||(p[x]=new bt)},_=y(""),v=y(":dels"),[k,b]=f[c](g);if(y(k.name||"").add(b),!k.isPrimaryKey){if(c!=="count"){const T=c==="query"&&l&&g.values&&i.query({...g,values:!1});return i[c].apply(this,arguments).then(x=>{if(c==="query"){if(l&&g.values)return T.then(({result:O})=>(_.addKeys(O),x));const C=g.values?x.result.map(s):x.result;g.values?_.addKeys(C):v.addKeys(C)}else if(c==="openCursor"){const C=x,O=g.values;return C&&Object.create(C,{key:{get:()=>(v.addKey(C.primaryKey),C.key)},primaryKey:{get(){const M=C.primaryKey;return v.addKey(M),M}},value:{get:()=>(O&&_.addKey(C.primaryKey),C.value)}})}return x})}v.add(e)}}return i[c].apply(this,arguments)}}),d}}}};class Vt{constructor(t,e){this._middlewares={},this.verno=0;const r=Vt.dependencies;this._options=e={addons:Vt.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:i}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ve,dbReadyPromise:null,cancelOpen:ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;a.dbReadyPromise=new Y(s=>{a.dbReadyResolve=s}),a.openCanceller=new Y((s,l)=>{a.cancelOpen=l}),this._state=a,this.name=t,this.on=xn(this,"populate","blocked","versionchange","close",{ready:[gi,ve]}),this.on.ready.subscribe=ea(this.on.ready.subscribe,s=>(l,d)=>{Vt.vip(()=>{const m=this._state;if(m.openComplete)m.dbOpenError||Y.resolve().then(l),d&&s(l);else if(m.onReadyBeingFired)m.onReadyBeingFired.push(l),d&&s(l);else{s(l);const f=this;d||s(function c(){f.on.ready.unsubscribe(l),f.on.ready.unsubscribe(c)})}})}),this.Collection=(o=this,wn(Eo.prototype,function(s,l){this.db=o;let d=va,m=null;if(l)try{d=l()}catch(p){m=p}const f=s._ctx,c=f.table,g=c.hook.reading.fire;this._ctx={table:c,index:f.index,isPrimKey:!f.index||c.schema.primKey.keyPath&&f.index===c.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:m,or:f.or,valueMapper:g!==On?g:null}})),this.Table=function(s){return wn(Co.prototype,function(l,d,m){this.db=s,this._tx=m,this.name=l,this.schema=d,this.hook=s._allTables[l]?s._allTables[l].hook:xn(null,{creating:[co,ve],reading:[uo,On],updating:[ho,ve],deleting:[fo,ve]})})}(this),this.Transaction=function(s){return wn(Io.prototype,function(l,d,m,f,c){this.db=s,this.mode=l,this.storeNames=d,this.schema=m,this.chromeTransactionDurability=f,this.idbtrans=null,this.on=xn(this,"complete","error","abort"),this.parent=c||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Y((g,p)=>{this._resolve=g,this._reject=p}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},g=>{var p=this.active;return this.active=!1,this.on.error.fire(g),this.parent?this.parent._reject(g):p&&this.idbtrans&&this.idbtrans.abort(),Ke(g)})})}(this),this.Version=function(s){return wn(jo.prototype,function(l){this.db=s,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(s){return wn(wa.prototype,function(l,d,m){if(this.db=s,this._ctx={table:l,index:d===":id"?null:d,or:m},this._cmp=this._ascending=je,this._descending=(f,c)=>je(c,f),this._max=(f,c)=>je(f,c)>0?f:c,this._min=(f,c)=>je(f,c)<0?f:c,this._IDBKeyRange=s._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})}(this),this.on("versionchange",s=>{s.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",s=>{!s.newVersion||s.newVersion<s.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${s.oldVersion/10}`)}),this._maxKey=An(e.IDBKeyRange),this._createTransaction=(s,l,d,m)=>new this.Transaction(s,l,d,this._options.chromeTransactionDurability,m),this._fireOnBlocked=s=>{this.on("blocked").fire(s),Mn.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(s))},this.use(Bo),this.use(Ro),this.use(Ho),this.use(Lo),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(s=>s(this))}version(t){if(isNaN(t)||t<.1)throw new U.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var r=e.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),e.push(r),e.sort(So),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||W.letThrough||this._vip)?t():new Y((e,r)=>{if(this._state.openComplete)return r(new U.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new U.DatabaseClosed);this.open().catch(ve)}this._state.dbReadyPromise.then(e,r)}).then(t)}use({stack:t,create:e,level:r,name:i}){i&&this.unuse({stack:t,name:i});const a=this._middlewares[t]||(this._middlewares[t]=[]);return a.push({stack:t,create:e,level:r??10,name:i}),a.sort((o,s)=>o.level-s.level),this}unuse({stack:t,name:e,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!e&&i.name!==e)),this}open(){return No(this)}_close(){const t=this._state,e=Mn.indexOf(this);if(e>=0&&Mn.splice(e,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new Y(r=>{t.dbReadyResolve=r}),t.openCanceller=new Y((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new U.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new Y((r,i)=>{const a=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=xe(()=>{(function({indexedDB:s,IDBKeyRange:l},d){!wi(s)&&d!=="__dbnames"&&_i(s,l).delete(d).catch(ve)})(this._deps,this.name),r()}),o.onerror=ft(i),o.onblocked=this._fireOnBlocked};if(t)throw new U.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Fe(this._allTables).map(t=>this._allTables[t])}transaction(){const t=Ko.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,r){let i=W.trans;i&&i.db===this&&t.indexOf("!")===-1||(i=null);const a=t.indexOf("?")!==-1;let o,s;t=t.replace("!","").replace("?","");try{if(s=e.map(d=>{var m=d instanceof this.Table?d.name:d;if(typeof m!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return m}),t=="r"||t==="readonly")o="readonly";else{if(t!="rw"&&t!="readwrite")throw new U.InvalidArgument("Invalid transaction mode: "+t);o="readwrite"}if(i){if(i.mode==="readonly"&&o==="readwrite"){if(!a)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(d=>{if(i&&i.storeNames.indexOf(d)===-1){if(!a)throw new U.SubTransaction("Table "+d+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(d){return i?i._promise(null,(m,f)=>{f(d)}):Ke(d)}const l=Ea.bind(null,this,o,s,i,r);return i?i._promise(o,l,"lock"):W.trans?fn(W.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!it(this._allTables,t))throw new U.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const Vo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class qo{constructor(t){this._subscribe=t}subscribe(t,e,r){return this._subscribe(t&&typeof t!="function"?t:{next:t,error:e,complete:r})}[Vo](){return this}}function xa(n,t){return Fe(t).forEach(e=>{Er(n[e]||(n[e]=new bt),t[e])}),n}let Mr;try{Mr={indexedDB:Me.indexedDB||Me.mozIndexedDB||Me.webkitIndexedDB||Me.msIndexedDB,IDBKeyRange:Me.IDBKeyRange||Me.webkitIDBKeyRange}}catch{Mr={indexedDB:null,IDBKeyRange:null}}function Ta(n){return new qo(t=>{const e=hi(n);let r=!1,i={},a={};const o={get closed(){return r},unsubscribe:()=>{r=!0,At.storagemutated.unsubscribe(m)}};t.start&&t.start(o);let s=!1,l=!1;function d(){return Fe(a).some(c=>i[c]&&Yo(i[c],a[c]))}const m=c=>{xa(i,c),d()&&f()},f=()=>{if(s||r||!Mr.indexedDB)return;i={};const c={},g=function(p){e&&dn();const y=()=>Pt(n,{subscr:p,trans:null}),_=W.trans?fn(W.transless,y):y();return e&&_.then(Dt,Dt),_}(c);l||(At("storagemutated",m),l=!0),s=!0,Promise.resolve(g).then(p=>{s=!1,r||(d()?f():(i={},a=c,t.next&&t.next(p)))},p=>{["DatabaseClosedError","AbortError"].includes(p==null?void 0:p.name)||(s=!1,t.error&&t.error(p),o.unsubscribe())})};return f(),o})}const Kt=Vt;function fr(n){let t=_t;try{_t=!0,At.storagemutated.fire(n)}finally{_t=t}}un(Kt,{...or,delete:n=>new Kt(n,{addons:[]}).delete(),exists:n=>new Kt(n,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(n){try{return function({indexedDB:t,IDBKeyRange:e}){return wi(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>i!=="__dbnames")):_i(t,e).toCollection().primaryKeys()}(Kt.dependencies).then(n)}catch{return Ke(new U.MissingAPI)}},defineClass:()=>function(n){Ue(this,n)},ignoreTransaction:n=>W.trans?fn(W.transless,n):n(),vip:si,async:function(n){return function(){try{var t=li(n.apply(this,arguments));return t&&typeof t.then=="function"?t:Y.resolve(t)}catch(e){return Ke(e)}}},spawn:function(n,t,e){try{var r=li(n.apply(e,t||[]));return r&&typeof r.then=="function"?r:Y.resolve(r)}catch(i){return Ke(i)}},currentTransaction:{get:()=>W.trans||null},waitFor:function(n,t){const e=Y.resolve(typeof n=="function"?Kt.ignoreTransaction(n):n).timeout(t||6e4);return W.trans?W.trans.waitFor(e):e},Promise:Y,debug:{get:()=>mt,set:n=>{oa(n,n==="dexie"?()=>!0:ya)}},derive:$t,extend:Ue,props:un,override:ea,Events:xn,on:At,liveQuery:Ta,extendObservabilitySet:xa,getByKeyPath:kt,setByKeyPath:rt,delByKeyPath:function(n,t){typeof t=="string"?rt(n,t,void 0):"length"in t&&[].map.call(t,function(e){rt(n,e,void 0)})},shallowClone:ra,deepClone:Bn,getObjectDiff:ki,cmp:je,asap:ta,minKey:-(1/0),addons:[],connections:Mn,errnames:pi,dependencies:Mr,semVer:"4.0.1-alpha.10",version:"4.0.1-alpha.10".split(".").map(n=>parseInt(n)).reduce((n,t,e)=>n+t/Math.pow(10,2*e))}),Kt.maxKey=An(Kt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(At("storagemutated",n=>{if(!_t){let t;Or?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,n)):t=new CustomEvent("x-storagemutated-1",{detail:n}),_t=!0,dispatchEvent(t),_t=!1}}),addEventListener("x-storagemutated-1",({detail:n})=>{_t||fr(n)}));let _t=!1;if(typeof BroadcastChannel<"u"){const n=new BroadcastChannel("x-storagemutated-1");typeof n.unref=="function"&&n.unref(),At("storagemutated",t=>{_t||n.postMessage(t)}),n.onmessage=t=>{t.data&&fr(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){At("storagemutated",t=>{try{_t||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(e=>e.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key==="x-storagemutated-1"){const e=JSON.parse(t.newValue);e&&fr(e.changedParts)}});const n=self.document&&navigator.serviceWorker;n&&n.addEventListener("message",function({data:t}){t&&t.type==="x-storagemutated-1"&&fr(t.changedParts)})}Y.rejectionMapper=function(n,t){if(!n||n instanceof en||n instanceof TypeError||n instanceof SyntaxError||!n.name||!Ci[n.name])return n;var e=new Ci[n.name](t||n.message,n);return"stack"in n&&wt(e,"stack",{get:function(){return this.inner.stack}}),e},oa(mt,ya);const Fn=new Vt("myDatabase");Fn.version(1).stores({tasks:"++id, category, title ,description, date"});const zo=n=>({}),ji=n=>({});function Wo(n){let t,e,r,i,a,o,s,l,d,m;const f=n[4].header,c=hr(f,n,n[3],ji),g=n[4].default,p=hr(g,n,n[3],null);return{c(){t=K("dialog"),e=K("div"),c&&c.c(),r=ee(),i=K("hr"),a=ee(),p&&p.c(),o=ee(),s=K("hr"),this.h()},l(y){t=B(y,"DIALOG",{class:!0});var _=N(t);e=B(_,"DIV",{class:!0});var v=N(e);c&&c.l(v),r=te(v),i=B(v,"HR",{}),a=te(v),p&&p.l(v),o=te(v),s=B(v,"HR",{}),v.forEach(S),_.forEach(S),this.h()},h(){E(e,"class","svelte-18f9q7t"),E(t,"class","svelte-18f9q7t")},m(y,_){Oe(y,t,_),D(t,e),c&&c.m(e,null),D(e,r),D(e,i),D(e,a),p&&p.m(e,null),D(e,o),D(e,s),n[6](t),l=!0,d||(m=[me(e,"click",La(n[5])),me(t,"close",n[7]),me(t,"click",Ya(n[8]))],d=!0)},p(y,[_]){c&&c.p&&(!l||_&8)&&mr(c,f,y,y[3],l?gr(f,y[3],_,zo):pr(y[3]),ji),p&&p.p&&(!l||_&8)&&mr(p,g,y,y[3],l?gr(g,y[3],_,null):pr(y[3]),null)},i(y){l||(ue(c,y),ue(p,y),l=!0)},o(y){be(c,y),be(p,y),l=!1},d(y){y&&S(t),c&&c.d(y),p&&p.d(y),n[6](null),d=!1,cn(m)}}}function Uo(n,t,e){let{$$slots:r={},$$scope:i}=t,{showModal:a}=t;const o=()=>{s.close()};let s;function l(c){vt.call(this,n,c)}function d(c){xt[c?"unshift":"push"](()=>{s=c,e(1,s)})}const m=()=>e(0,a=!1),f=()=>s.close();return n.$$set=c=>{"showModal"in c&&e(0,a=c.showModal),"$$scope"in c&&e(3,i=c.$$scope)},n.$$.update=()=>{n.$$.dirty&3&&s&&a&&s.showModal()},[a,s,o,i,r,l,d,m,f]}class Ia extends Ct{constructor(t){super(),Et(this,t,Uo,Wo,Mt,{showModal:0,close:2})}get close(){return this.$$.ctx[2]}}function Fi(n){let t,e;return{c(){t=Te("title"),e=De(n[1])},l(r){t=Ie(r,"title",{});var i=N(t);e=Ce(i,n[1]),i.forEach(S)},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i&2&&ot(e,r[1])},d(r){r&&S(t)}}}function Go(n){let t,e,r,i=n[1]&&Fi(n),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let s=0;s<a.length;s+=1)o=We(o,a[s]);return{c(){t=Te("svg"),i&&i.c(),e=Te("path"),r=Te("path"),this.h()},l(s){t=Ie(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var l=N(t);i&&i.l(l),e=Ie(l,"path",{d:!0}),N(e).forEach(S),r=Ie(l,"path",{fill:!0,d:!0,"data-icon-path":!0,opacity:!0}),N(r).forEach(S),l.forEach(S),this.h()},h(){E(e,"d","M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"),E(r,"fill","none"),E(r,"d","M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z"),E(r,"data-icon-path","inner-path"),E(r,"opacity","0"),an(t,o)},m(s,l){Oe(s,t,l),i&&i.m(t,null),D(t,e),D(t,r)},p(s,[l]){s[1]?i?i.p(s,l):(i=Fi(s),i.c(),i.m(t,e)):i&&(i.d(1),i=null),an(t,o=Kn(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},l&1&&{width:s[0]},l&1&&{height:s[0]},l&4&&s[2],l&8&&s[3]]))},i:on,o:on,d(s){s&&S(t),i&&i.d()}}}function Jo(n,t,e){let r,i;const a=["size","title"];let o=ht(t,a),{size:s=16}=t,{title:l=void 0}=t;return n.$$set=d=>{e(5,t=We(We({},t),Ot(d))),e(3,o=ht(t,a)),"size"in d&&e(0,s=d.size),"title"in d&&e(1,l=d.title)},n.$$.update=()=>{e(4,r=t["aria-label"]||t["aria-labelledby"]||l),e(2,i={"aria-hidden":r?void 0:!0,role:r?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=Ot(t),[s,l,i,o,r]}class Qo extends Ct{constructor(t){super(),Et(this,t,Jo,Go,Mt,{size:0,title:1})}}const Xo=Qo;function Ni(n){let t,e;return{c(){t=Te("title"),e=De(n[1])},l(r){t=Ie(r,"title",{});var i=N(t);e=Ce(i,n[1]),i.forEach(S)},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i&2&&ot(e,r[1])},d(r){r&&S(t)}}}function Zo(n){let t,e,r,i,a=n[1]&&Ni(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],s={};for(let l=0;l<o.length;l+=1)s=We(s,o[l]);return{c(){t=Te("svg"),a&&a.c(),e=Te("path"),r=Te("path"),i=Te("path"),this.h()},l(l){t=Ie(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=N(t);a&&a.l(d),e=Ie(d,"path",{fill:!0,d:!0,"data-icon-path":!0}),N(e).forEach(S),r=Ie(d,"path",{d:!0}),N(r).forEach(S),i=Ie(d,"path",{d:!0}),N(i).forEach(S),d.forEach(S),this.h()},h(){E(e,"fill","none"),E(e,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),E(e,"data-icon-path","inner-path"),E(r,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),E(i,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),an(t,s)},m(l,d){Oe(l,t,d),a&&a.m(t,null),D(t,e),D(t,r),D(t,i)},p(l,[d]){l[1]?a?a.p(l,d):(a=Ni(l),a.c(),a.m(t,e)):a&&(a.d(1),a=null),an(t,s=Kn(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:l[0]},d&1&&{height:l[0]},d&4&&l[2],d&8&&l[3]]))},i:on,o:on,d(l){l&&S(t),a&&a.d()}}}function $o(n,t,e){let r,i;const a=["size","title"];let o=ht(t,a),{size:s=16}=t,{title:l=void 0}=t;return n.$$set=d=>{e(5,t=We(We({},t),Ot(d))),e(3,o=ht(t,a)),"size"in d&&e(0,s=d.size),"title"in d&&e(1,l=d.title)},n.$$.update=()=>{e(4,r=t["aria-label"]||t["aria-labelledby"]||l),e(2,i={"aria-hidden":r?void 0:!0,role:r?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=Ot(t),[s,l,i,o,r]}class es extends Ct{constructor(t){super(),Et(this,t,$o,Zo,Mt,{size:0,title:1})}}const ts=es,Kr=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],nn={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:n=>typeof console<"u"&&console.warn(n),getWeek:n=>{const t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Nn={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:n=>{const t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ge=(n,t=2)=>`000${n}`.slice(t*-1),tt=n=>n===!0?1:0;function Ki(n,t){let e;return function(){clearTimeout(e),e=setTimeout(()=>n.apply(this,arguments),t)}}const Br=n=>n instanceof Array?n:[n];function qe(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function fe(n,t,e){const r=window.document.createElement(n);return t=t||"",e=e||"",r.className=t,e!==void 0&&(r.textContent=e),r}function ir(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Oa(n,t){if(t(n))return n;if(n.parentNode)return Oa(n.parentNode,t)}function ar(n,t){const e=fe("div","numInputWrapper"),r=fe("input","numInput "+n),i=fe("span","arrowUp"),a=fe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),t!==void 0)for(const o in t)r.setAttribute(o,t[o]);return e.appendChild(r),e.appendChild(i),e.appendChild(a),e}function Qe(n){try{return typeof n.composedPath=="function"?n.composedPath()[0]:n.target}catch{return n.target}}const Rr=()=>{},xr=(n,t,e)=>e.months[t?"shorthand":"longhand"][n],ns={D:Rr,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:(n,t)=>{n.setHours(parseFloat(t))},H:(n,t)=>{n.setHours(parseFloat(t))},J:(n,t)=>{n.setDate(parseFloat(t))},K:(n,t,e)=>{n.setHours(n.getHours()%12+12*tt(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:(n,t)=>{n.setSeconds(parseFloat(t))},U:(n,t)=>new Date(parseFloat(t)*1e3),W:function(n,t,e){const r=parseInt(t),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek),i},Y:(n,t)=>{n.setFullYear(parseFloat(t))},Z:(n,t)=>new Date(t),d:(n,t)=>{n.setDate(parseFloat(t))},h:(n,t)=>{n.setHours(parseFloat(t))},i:(n,t)=>{n.setMinutes(parseFloat(t))},j:(n,t)=>{n.setDate(parseFloat(t))},l:Rr,m:(n,t)=>{n.setMonth(parseFloat(t)-1)},n:(n,t)=>{n.setMonth(parseFloat(t)-1)},s:(n,t)=>{n.setSeconds(parseFloat(t))},u:(n,t)=>new Date(parseFloat(t)),w:Rr,y:(n,t)=>{n.setFullYear(2e3+parseFloat(t))}},ci={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},In={Z:n=>n.toISOString(),D:function(n,t,e){return t.weekdays.shorthand[In.w(n,t,e)]},F:function(n,t,e){return xr(In.n(n,t,e)-1,!1,t)},G:function(n,t,e){return Ge(In.h(n,t,e))},H:n=>Ge(n.getHours()),J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:(n,t)=>t.amPM[tt(n.getHours()>11)],M:function(n,t){return xr(n.getMonth(),!0,t)},S:n=>Ge(n.getSeconds()),U:n=>n.getTime()/1e3,W:function(n,t,e){return e.getWeek(n)},Y:n=>Ge(n.getFullYear(),4),d:n=>Ge(n.getDate()),h:n=>n.getHours()%12?n.getHours()%12:12,i:n=>Ge(n.getMinutes()),j:n=>n.getDate(),l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:n=>Ge(n.getMonth()+1),n:n=>n.getMonth()+1,s:n=>n.getSeconds(),u:n=>n.getTime(),w:n=>n.getDay(),y:n=>String(n.getFullYear()).substring(2)},Pa=({config:n=nn,l10n:t=Nn,isMobile:e=!1})=>(r,i,a)=>{const o=a||t;return n.formatDate!==void 0&&!e?n.formatDate(r,i,o):i.split("").map((s,l,d)=>In[s]&&d[l-1]!=="\\"?In[s](r,o,n):s!=="\\"?s:"").join("")},di=({config:n=nn,l10n:t=Nn})=>(e,r,i,a)=>{if(e!==0&&!e)return;const o=a||t;let s;const l=e;if(e instanceof Date)s=new Date(e.getTime());else if(typeof e!="string"&&e.toFixed!==void 0)s=new Date(e);else if(typeof e=="string"){const d=r||(n||nn).dateFormat,m=String(e).trim();if(m==="today")s=new Date,i=!0;else if(/Z$/.test(m)||/GMT$/.test(m))s=new Date(e);else if(n&&n.parseDate)s=n.parseDate(e,d);else{s=!n||!n.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0));let f,c=[];for(let g=0,p=0,y="";g<d.length;g++){const _=d[g],v=_==="\\",k=d[g-1]==="\\"||v;if(ci[_]&&!k){y+=ci[_];const b=new RegExp(y).exec(e);b&&(f=!0)&&c[_!=="Y"?"push":"unshift"]({fn:ns[_],val:b[++p]})}else v||(y+=".");c.forEach(({fn:b,val:T})=>s=b(s,T,o)||s)}s=f?s:void 0}}if(!(s instanceof Date&&!isNaN(s.getTime()))){n.errorHandler(new Error(`Invalid date provided: ${l}`));return}return i===!0&&s.setHours(0,0,0,0),s};function Ze(n,t,e=!0){return e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}const rs=(n,t,e)=>n>Math.min(t,e)&&n<Math.max(t,e),is={DAY:864e5};function Lr(n){let t=n.defaultHour,e=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){const i=n.minDate.getHours(),a=n.minDate.getMinutes(),o=n.minDate.getSeconds();t<i&&(t=i),t===i&&e<a&&(e=a),t===i&&e===a&&r<o&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){const i=n.maxDate.getHours(),a=n.maxDate.getMinutes();t=Math.min(t,i),t===i&&(e=Math.min(a,e)),t===i&&e===a&&(r=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n,...t){if(!n)throw TypeError("Cannot convert undefined or null to object");for(const e of t)e&&Object.keys(e).forEach(r=>n[r]=e[r]);return n});const as=300;function os(n,t){const e={config:Object.assign(Object.assign({},nn),Ae.defaultConfig),l10n:Nn};e.parseDate=di({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=p,e._setHoursFromDate=f,e._positionCalendar=Ve,e.changeMonth=de,e.changeYear=Se,e.clear=z,e.close=ye,e._createElement=fe,e.destroy=ce,e.isEnabled=ae,e.jumpToDate=v,e.open=A,e.redraw=$e,e.set=Yn,e.setDate=Hn,e.toggle=Wn;function r(){e.utils={getDaysInMonth(u=e.currentMonth,h=e.currentYear){return u===1&&(h%4===0&&h%100!==0||h%400===0)?29:e.l10n.daysInMonth[u]}}}function i(){e.element=e.input=n,e.isOpen=!1,F(),Je(),qn(),Vn(),r(),e.isMobile||T(),_(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&f(e.config.noCalendar?e.latestSelectedDateObj:void 0),at(!1)),o();const u=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&u&&Ve(),ke("onReady")}function a(u){return u.bind(e)}function o(){const u=e.config;u.weekNumbers===!1&&u.showMonths===1||u.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){const h=(e.days.offsetWidth+1)*u.showMonths;e.daysContainer.style.width=h+"px",e.calendarContainer.style.width=h+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function s(u){if(e.selectedDates.length===0){const w=e.config.minDate===void 0||Ze(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),P=Lr(e.config);w.setHours(P.hours,P.minutes,P.seconds,w.getMilliseconds()),e.selectedDates=[w],e.latestSelectedDateObj=w}u!==void 0&&u.type!=="blur"&&ja(u);const h=e._input.value;m(),at(),e._input.value!==h&&e._debouncedChange()}function l(u,h){return u%12+12*tt(h===e.l10n.amPM[1])}function d(u){switch(u%24){case 0:case 12:return 12;default:return u%12}}function m(){if(e.hourElement===void 0||e.minuteElement===void 0)return;let u=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,h=(parseInt(e.minuteElement.value,10)||0)%60,w=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(u=l(u,e.amPM.textContent));const P=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Ze(e.latestSelectedDateObj,e.config.minDate,!0)===0;if(e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Ze(e.latestSelectedDateObj,e.config.maxDate,!0)===0){const j=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;u=Math.min(u,j.getHours()),u===j.getHours()&&(h=Math.min(h,j.getMinutes())),h===j.getMinutes()&&(w=Math.min(w,j.getSeconds()))}if(P){const j=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;u=Math.max(u,j.getHours()),u===j.getHours()&&h<j.getMinutes()&&(h=j.getMinutes()),h===j.getMinutes()&&(w=Math.max(w,j.getSeconds()))}c(u,h,w)}function f(u){const h=u||e.latestSelectedDateObj;h&&c(h.getHours(),h.getMinutes(),h.getSeconds())}function c(u,h,w){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(u%24,h,w||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=Ge(e.config.time_24hr?u:(12+u)%12+12*tt(u%12===0)),e.minuteElement.value=Ge(h),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[tt(u>=12)]),e.secondElement!==void 0&&(e.secondElement.value=Ge(w)))}function g(u){const h=Qe(u),w=parseInt(h.value)+(u.delta||0);(w/1e3>1||u.key==="Enter"&&!/[^\d]/.test(w.toString()))&&Se(w)}function p(u,h,w,P){if(h instanceof Array)return h.forEach(R=>p(u,R,w,P));if(u instanceof Array)return u.forEach(R=>p(R,h,w,P));u.addEventListener(h,w,P),e._handlers.push({remove:()=>u.removeEventListener(h,w)})}function y(){ke("onChange")}function _(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(h=>{Array.prototype.forEach.call(e.element.querySelectorAll(`[data-${h}]`),w=>p(w,"click",e[h]))}),e.isMobile){zn();return}const u=Ki(Ne,50);if(e._debouncedChange=Ki(y,as),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&p(e.daysContainer,"mouseover",h=>{e.config.mode==="range"&&Q(Qe(h))}),p(window.document.body,"keydown",oe),!e.config.inline&&!e.config.static&&p(window,"resize",u),window.ontouchstart!==void 0?p(window.document,"touchstart",Pe):p(window.document,"mousedown",Pe),p(window.document,"focus",Pe,{capture:!0}),e.config.clickOpens===!0&&(p(e._input,"focus",e.open),p(e._input,"click",e.open)),e.daysContainer!==void 0&&(p(e.monthNav,"click",Gn),p(e.monthNav,["keyup","increment"],g),p(e.daysContainer,"click",hn)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){const h=w=>Qe(w).select();p(e.timeContainer,["increment"],s),p(e.timeContainer,"blur",s,{capture:!0}),p(e.timeContainer,"click",k),p([e.hourElement,e.minuteElement],["focus","click"],h),e.secondElement!==void 0&&p(e.secondElement,"focus",()=>e.secondElement&&e.secondElement.select()),e.amPM!==void 0&&p(e.amPM,"click",w=>{s(w),y()})}e.config.allowInput&&p(e._input,"blur",we)}function v(u,h){const w=u!==void 0?e.parseDate(u):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),P=e.currentYear,R=e.currentMonth;try{w!==void 0&&(e.currentYear=w.getFullYear(),e.currentMonth=w.getMonth())}catch(j){j.message="Invalid date supplied: "+w,e.config.errorHandler(j)}h&&e.currentYear!==P&&(ke("onYearChange"),X()),h&&(e.currentYear!==P||e.currentMonth!==R)&&ke("onMonthChange"),e.redraw()}function k(u){const h=Qe(u);~h.className.indexOf("arrow")&&b(u,h.classList.contains("arrowUp")?1:-1)}function b(u,h,w){const P=u&&Qe(u),R=w||P&&P.parentNode&&P.parentNode.firstChild,j=Ut("increment");j.delta=h,R&&R.dispatchEvent(j)}function T(){const u=window.document.createDocumentFragment();if(e.calendarContainer=fe("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(u.appendChild(pe()),e.innerContainer=fe("div","flatpickr-innerContainer"),e.config.weekNumbers){const{weekWrapper:w,weekNumbers:P}=ge();e.innerContainer.appendChild(w),e.weekNumbers=P,e.weekWrapper=w}e.rContainer=fe("div","flatpickr-rContainer"),e.rContainer.appendChild(J()),e.daysContainer||(e.daysContainer=fe("div","flatpickr-days"),e.daysContainer.tabIndex=-1),G(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),u.appendChild(e.innerContainer)}e.config.enableTime&&u.appendChild(ie()),qe(e.calendarContainer,"rangeMode",e.config.mode==="range"),qe(e.calendarContainer,"animate",e.config.animate===!0),qe(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(u);const h=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!h&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){const w=fe("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(w,e.element),w.appendChild(e.element),e.altInput&&w.appendChild(e.altInput),w.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function x(u,h,w,P){const R=ae(h,!0),j=fe("span","flatpickr-day "+u,h.getDate().toString());return j.dateObj=h,j.$i=P,j.setAttribute("aria-label",e.formatDate(h,e.config.ariaDateFormat)),u.indexOf("hidden")===-1&&Ze(h,e.now)===0&&(e.todayDateElem=j,j.classList.add("today"),j.setAttribute("aria-current","date")),R?(j.tabIndex=-1,Gt(h)&&(j.classList.add("selected"),e.selectedDateElem=j,e.config.mode==="range"&&(qe(j,"startRange",e.selectedDates[0]&&Ze(h,e.selectedDates[0],!0)===0),qe(j,"endRange",e.selectedDates[1]&&Ze(h,e.selectedDates[1],!0)===0),u==="nextMonthDay"&&j.classList.add("inRange")))):j.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Un(h)&&!Gt(h)&&j.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&u!=="prevMonthDay"&&w%7===1&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(h)+"</span>"),ke("onDayCreate",j),j}function C(u){u.focus(),e.config.mode==="range"&&Q(u)}function O(u){const h=u>0?0:e.config.showMonths-1,w=u>0?e.config.showMonths:-1;for(let P=h;P!=w;P+=u){const R=e.daysContainer.children[P],j=u>0?0:R.children.length-1,q=u>0?R.children.length:-1;for(let H=j;H!=q;H+=u){const se=R.children[H];if(se.className.indexOf("hidden")===-1&&ae(se.dateObj))return se}}}function M(u,h){const w=u.className.indexOf("Month")===-1?u.dateObj.getMonth():e.currentMonth,P=h>0?e.config.showMonths:-1,R=h>0?1:-1;for(let j=w-e.currentMonth;j!=P;j+=R){const q=e.daysContainer.children[j],H=w-e.currentMonth===j?u.$i+h:h<0?q.children.length-1:0,se=q.children.length;for(let le=H;le>=0&&le<se&&le!=(h>0?se:-1);le+=R){const Ee=q.children[le];if(Ee.className.indexOf("hidden")===-1&&ae(Ee.dateObj)&&Math.abs(u.$i-le)>=Math.abs(h))return C(Ee)}}e.changeMonth(R),I(O(R),0)}function I(u,h){const w=$(document.activeElement||document.body),P=u!==void 0?u:w?document.activeElement:e.selectedDateElem!==void 0&&$(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&$(e.todayDateElem)?e.todayDateElem:O(h>0?1:-1);P===void 0?e._input.focus():w?M(P,h):C(P)}function L(u,h){const w=(new Date(u,h,1).getDay()-e.l10n.firstDayOfWeek+7)%7,P=e.utils.getDaysInMonth((h-1+12)%12,u),R=e.utils.getDaysInMonth(h,u),j=window.document.createDocumentFragment(),q=e.config.showMonths>1,H=q?"prevMonthDay hidden":"prevMonthDay",se=q?"nextMonthDay hidden":"nextMonthDay";let le=P+1-w,Ee=0;for(;le<=P;le++,Ee++)j.appendChild(x(H,new Date(u,h-1,le),le,Ee));for(le=1;le<=R;le++,Ee++)j.appendChild(x("",new Date(u,h,le),le,Ee));for(let Le=R+1;Le<=42-w&&(e.config.showMonths===1||Ee%7!==0);Le++,Ee++)j.appendChild(x(se,new Date(u,h+1,Le%R),Le,Ee));const et=fe("div","dayContainer");return et.appendChild(j),et}function G(){if(e.daysContainer===void 0)return;ir(e.daysContainer),e.weekNumbers&&ir(e.weekNumbers);const u=document.createDocumentFragment();for(let h=0;h<e.config.showMonths;h++){const w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+h),u.appendChild(L(w.getFullYear(),w.getMonth()))}e.daysContainer.appendChild(u),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Q()}function X(){if(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")return;const u=function(h){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&h<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&h>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(let h=0;h<12;h++){if(!u(h))continue;const w=fe("option","flatpickr-monthDropdown-month");w.value=new Date(e.currentYear,h).getMonth().toString(),w.textContent=xr(h,e.config.shorthandCurrentMonth,e.l10n),w.tabIndex=-1,e.currentMonth===h&&(w.selected=!0),e.monthsDropdownContainer.appendChild(w)}}function V(){const u=fe("div","flatpickr-month"),h=window.document.createDocumentFragment();let w;e.config.showMonths>1||e.config.monthSelectorType==="static"?w=fe("span","cur-month"):(e.monthsDropdownContainer=fe("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),p(e.monthsDropdownContainer,"change",q=>{const H=Qe(q),se=parseInt(H.value,10);e.changeMonth(se-e.currentMonth),ke("onMonthChange")}),X(),w=e.monthsDropdownContainer);const P=ar("cur-year",{tabindex:"-1"}),R=P.getElementsByTagName("input")[0];R.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&R.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(R.setAttribute("max",e.config.maxDate.getFullYear().toString()),R.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());const j=fe("div","flatpickr-current-month");return j.appendChild(w),j.appendChild(P),h.appendChild(j),u.appendChild(h),{container:u,yearElement:R,monthElement:w}}function Z(){ir(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(let u=e.config.showMonths;u--;){const h=V();e.yearElements.push(h.yearElement),e.monthElements.push(h.monthElement),e.monthNav.appendChild(h.container)}e.monthNav.appendChild(e.nextMonthNav)}function pe(){return e.monthNav=fe("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=fe("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=fe("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Z(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:()=>e.__hidePrevMonthArrow,set(u){e.__hidePrevMonthArrow!==u&&(qe(e.prevMonthNav,"flatpickr-disabled",u),e.__hidePrevMonthArrow=u)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:()=>e.__hideNextMonthArrow,set(u){e.__hideNextMonthArrow!==u&&(qe(e.nextMonthNav,"flatpickr-disabled",u),e.__hideNextMonthArrow=u)}}),e.currentYearElement=e.yearElements[0],Nt(),e.monthNav}function ie(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");const u=Lr(e.config);e.timeContainer=fe("div","flatpickr-time"),e.timeContainer.tabIndex=-1;const h=fe("span","flatpickr-time-separator",":"),w=ar("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=w.getElementsByTagName("input")[0];const P=ar("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=P.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=Ge(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?u.hours:d(u.hours)),e.minuteElement.value=Ge(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():u.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(w),e.timeContainer.appendChild(h),e.timeContainer.appendChild(P),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");const R=ar("flatpickr-second");e.secondElement=R.getElementsByTagName("input")[0],e.secondElement.value=Ge(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():u.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(fe("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(R)}return e.config.time_24hr||(e.amPM=fe("span","flatpickr-am-pm",e.l10n.amPM[tt((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function J(){e.weekdayContainer?ir(e.weekdayContainer):e.weekdayContainer=fe("div","flatpickr-weekdays");for(let u=e.config.showMonths;u--;){const h=fe("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(h)}return re(),e.weekdayContainer}function re(){if(!e.weekdayContainer)return;const u=e.l10n.firstDayOfWeek;let h=[...e.l10n.weekdays.shorthand];u>0&&u<h.length&&(h=[...h.splice(u,h.length),...h.splice(0,u)]);for(let w=e.config.showMonths;w--;)e.weekdayContainer.children[w].innerHTML=`
      <span class='flatpickr-weekday'>
        ${h.join("</span><span class='flatpickr-weekday'>")}
      </span>
      `}function ge(){e.calendarContainer.classList.add("hasWeeks");const u=fe("div","flatpickr-weekwrapper");u.appendChild(fe("span","flatpickr-weekday",e.l10n.weekAbbreviation));const h=fe("div","flatpickr-weeks");return u.appendChild(h),{weekWrapper:u,weekNumbers:h}}function de(u,h=!0){const w=h?u:u-e.currentMonth;w<0&&e._hidePrevMonthArrow===!0||w>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=w,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,ke("onYearChange"),X()),G(),ke("onMonthChange"),Nt())}function z(u=!0,h=!0){if(e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,h===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){const{hours:w,minutes:P,seconds:R}=Lr(e.config);c(w,P,R)}e.redraw(),u&&ke("onChange")}function ye(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),ke("onClose")}function ce(){e.config!==void 0&&ke("onDestroy");for(let u=e._handlers.length;u--;)e._handlers[u].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){const u=e.calendarContainer.parentNode;if(u.lastChild&&u.removeChild(u.lastChild),u.parentNode){for(;u.firstChild;)u.parentNode.insertBefore(u.firstChild,u);u.parentNode.removeChild(u)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(u=>{try{delete e[u]}catch{}})}function _e(u){return e.config.appendTo&&e.config.appendTo.contains(u)?!0:e.calendarContainer.contains(u)}function Pe(u){if(e.isOpen&&!e.config.inline){const h=Qe(u),w=_e(h),P=h===e.input||h===e.altInput||e.element.contains(h)||u.path&&u.path.indexOf&&(~u.path.indexOf(e.input)||~u.path.indexOf(e.altInput)),R=u.type==="blur"?P&&u.relatedTarget&&!_e(u.relatedTarget):!P&&!w&&!_e(u.relatedTarget),j=!e.config.ignoredFocusElements.some(q=>q.contains(h));R&&j&&(e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&s(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&(e.clear(!1),e.redraw()))}}function Se(u){if(!u||e.config.minDate&&u<e.config.minDate.getFullYear()||e.config.maxDate&&u>e.config.maxDate.getFullYear())return;const h=u,w=e.currentYear!==h;e.currentYear=h||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),w&&(e.redraw(),ke("onYearChange"),X())}function ae(u,h=!0){var w;const P=e.parseDate(u,void 0,h);if(e.config.minDate&&P&&Ze(P,e.config.minDate,h!==void 0?h:!e.minDateHasTime)<0||e.config.maxDate&&P&&Ze(P,e.config.maxDate,h!==void 0?h:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(P===void 0)return!1;const R=!!e.config.enable,j=(w=e.config.enable)!==null&&w!==void 0?w:e.config.disable;for(let q=0,H;q<j.length;q++){if(H=j[q],typeof H=="function"&&H(P))return R;if(H instanceof Date&&P!==void 0&&H.getTime()===P.getTime())return R;if(typeof H=="string"){const se=e.parseDate(H,void 0,!0);return se&&se.getTime()===P.getTime()?R:!R}else if(typeof H=="object"&&P!==void 0&&H.from&&H.to&&P.getTime()>=H.from.getTime()&&P.getTime()<=H.to.getTime())return R}return!R}function $(u){return e.daysContainer!==void 0?u.className.indexOf("hidden")===-1&&u.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(u):!1}function we(u){u.target===e._input&&(e.selectedDates.length>0||e._input.value.length>0)&&!(u.relatedTarget&&_e(u.relatedTarget))&&e.setDate(e._input.value,!0,u.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function oe(u){const h=Qe(u),w=e.config.wrap?n.contains(h):h===e._input,P=e.config.allowInput,R=e.isOpen&&(!P||!w),j=e.config.inline&&w&&!P;if(u.keyCode===13&&w){if(P)return e.setDate(e._input.value,!0,h===e.altInput?e.config.altFormat:e.config.dateFormat),h.blur();e.open()}else if(_e(h)||R||j){const q=!!e.timeContainer&&e.timeContainer.contains(h);switch(u.keyCode){case 13:q?(u.preventDefault(),s(),pt()):hn(u);break;case 27:u.preventDefault(),pt();break;case 8:case 46:w&&!e.config.allowInput&&(u.preventDefault(),e.clear());break;case 37:case 39:if(!q&&!w){if(u.preventDefault(),e.daysContainer!==void 0&&(P===!1||document.activeElement&&$(document.activeElement))){const se=u.keyCode===39?1:-1;u.ctrlKey?(u.stopPropagation(),de(se),I(O(1),0)):I(void 0,se)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:u.preventDefault();const H=u.keyCode===40?1:-1;e.daysContainer&&h.$i!==void 0||h===e.input||h===e.altInput?u.ctrlKey?(u.stopPropagation(),Se(e.currentYear-H),I(O(1),0)):q||I(void 0,H*7):h===e.currentYearElement?Se(e.currentYear-H):e.config.enableTime&&(!q&&e.hourElement&&e.hourElement.focus(),s(u),e._debouncedChange());break;case 9:if(q){const se=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(Ee=>Ee),le=se.indexOf(h);if(le!==-1){const Ee=se[le+(u.shiftKey?-1:1)];u.preventDefault(),(Ee||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(h)&&u.shiftKey&&(u.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&h===e.amPM)switch(u.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],m(),at();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],m(),at();break}(w||_e(h))&&ke("onKeyDown",u)}function Q(u){if(e.selectedDates.length!==1||u&&(!u.classList.contains("flatpickr-day")||u.classList.contains("flatpickr-disabled")))return;const h=u?u.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),w=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),P=Math.min(h,e.selectedDates[0].getTime()),R=Math.max(h,e.selectedDates[0].getTime());let j=!1,q=0,H=0;for(let se=P;se<R;se+=is.DAY)ae(new Date(se),!0)||(j=j||se>P&&se<R,se<w&&(!q||se>q)?q=se:se>w&&(!H||se<H)&&(H=se));for(let se=0;se<e.config.showMonths;se++){const le=e.daysContainer.children[se];for(let Ee=0,et=le.children.length;Ee<et;Ee++){const Le=le.children[Ee],dt=Le.dateObj.getTime(),bn=q>0&&dt<q||H>0&&dt>H;if(bn){Le.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(yn=>{Le.classList.remove(yn)});continue}else if(j&&!bn)continue;["startRange","inRange","endRange","notAllowed"].forEach(yn=>{Le.classList.remove(yn)}),u!==void 0&&(u.classList.add(h<=e.selectedDates[0].getTime()?"startRange":"endRange"),w<h&&dt===w?Le.classList.add("startRange"):w>h&&dt===w&&Le.classList.add("endRange"),dt>=q&&(H===0||dt<=H)&&rs(dt,w,h)&&Le.classList.add("inRange"))}}}function Ne(){e.isOpen&&!e.config.static&&!e.config.inline&&Ve()}function A(u,h=e._positionElement){if(e.isMobile===!0){if(u){u.preventDefault();const P=Qe(u);P&&P.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),ke("onOpen");return}else if(e._input.disabled||e.config.inline)return;const w=e.isOpen;e.isOpen=!0,w||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),ke("onOpen"),Ve(h)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(u===void 0||!e.timeContainer.contains(u.relatedTarget))&&setTimeout(()=>e.hourElement.select(),50)}function ne(u){return h=>{const w=e.config[`_${u}Date`]=e.parseDate(h,e.config.dateFormat),P=e.config[`_${u==="min"?"max":"min"}Date`];w!==void 0&&(e[u==="min"?"minDateHasTime":"maxDateHasTime"]=w.getHours()>0||w.getMinutes()>0||w.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(R=>ae(R)),!e.selectedDates.length&&u==="min"&&f(w),at()),e.daysContainer&&($e(),w!==void 0?e.currentYearElement[u]=w.getFullYear().toString():e.currentYearElement.removeAttribute(u),e.currentYearElement.disabled=!!P&&w!==void 0&&P.getFullYear()===w.getFullYear())}}function F(){const u=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],h=Object.assign(Object.assign({},JSON.parse(JSON.stringify(n.dataset||{}))),t),w={};e.config.parseDate=h.parseDate,e.config.formatDate=h.formatDate,Object.defineProperty(e.config,"enable",{get:()=>e.config._enable,set:j=>{e.config._enable=pn(j)}}),Object.defineProperty(e.config,"disable",{get:()=>e.config._disable,set:j=>{e.config._disable=pn(j)}});const P=h.mode==="time";if(!h.dateFormat&&(h.enableTime||P)){const j=Ae.defaultConfig.dateFormat||nn.dateFormat;w.dateFormat=h.noCalendar||P?"H:i"+(h.enableSeconds?":S":""):j+" H:i"+(h.enableSeconds?":S":"")}if(h.altInput&&(h.enableTime||P)&&!h.altFormat){const j=Ae.defaultConfig.altFormat||nn.altFormat;w.altFormat=h.noCalendar||P?"h:i"+(h.enableSeconds?":S K":" K"):j+` h:i${h.enableSeconds?":S":""} K`}Object.defineProperty(e.config,"minDate",{get:()=>e.config._minDate,set:ne("min")}),Object.defineProperty(e.config,"maxDate",{get:()=>e.config._maxDate,set:ne("max")});const R=j=>q=>{e.config[j==="min"?"_minTime":"_maxTime"]=e.parseDate(q,"H:i:S")};Object.defineProperty(e.config,"minTime",{get:()=>e.config._minTime,set:R("min")}),Object.defineProperty(e.config,"maxTime",{get:()=>e.config._maxTime,set:R("max")}),h.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,w,h);for(let j=0;j<u.length;j++)e.config[u[j]]=e.config[u[j]]===!0||e.config[u[j]]==="true";Kr.filter(j=>e.config[j]!==void 0).forEach(j=>{e.config[j]=Br(e.config[j]||[]).map(a)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let j=0;j<e.config.plugins.length;j++){const q=e.config.plugins[j](e)||{};for(const H in q)Kr.indexOf(H)>-1?e.config[H]=Br(q[H]).map(a).concat(e.config[H]):typeof h[H]>"u"&&(e.config[H]=q[H])}h.altInputClass||(e.config.altInputClass=Be().className+" "+e.config.altInputClass),ke("onParseConfig")}function Be(){return e.config.wrap?n.querySelector("[data-input]"):n}function Je(){typeof e.config.locale!="object"&&typeof Ae.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error(`flatpickr: invalid locale ${e.config.locale}`)),e.l10n=Object.assign(Object.assign({},Ae.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Ae.l10ns[e.config.locale]:void 0),ci.K=`(${e.l10n.amPM[0]}|${e.l10n.amPM[1]}|${e.l10n.amPM[0].toLowerCase()}|${e.l10n.amPM[1].toLowerCase()})`,Object.assign(Object.assign({},t),JSON.parse(JSON.stringify(n.dataset||{}))).time_24hr===void 0&&Ae.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Pa(e),e.parseDate=di({config:e.config,l10n:e.l10n})}function Ve(u){if(typeof e.config.position=="function")return void e.config.position(e,u);if(e.calendarContainer===void 0)return;ke("onPreCalendarPosition");const h=u||e._positionElement,w=Array.prototype.reduce.call(e.calendarContainer.children,(vn,Pr)=>vn+Pr.offsetHeight,0),P=e.calendarContainer.offsetWidth,R=e.config.position.split(" "),j=R[0],q=R.length>1?R[1]:null,H=h.getBoundingClientRect(),se=window.innerHeight-H.bottom,le=j==="above"||j!=="below"&&se<w&&H.top>w,Ee=window.pageYOffset+H.top+(le?-w-2:h.offsetHeight+2);if(qe(e.calendarContainer,"arrowTop",!le),qe(e.calendarContainer,"arrowBottom",le),e.config.inline)return;let et=window.pageXOffset+H.left,Le=!1,Jn=!1;q==="center"?(et-=(P-H.width)/2,Le=!0):q==="right"&&(et-=P-H.width,Jn=!0),qe(e.calendarContainer,"arrowLeft",!Le&&!Jn),qe(e.calendarContainer,"arrowCenter",Le),qe(e.calendarContainer,"arrowRight",Jn);const dt=window.document.body.offsetWidth-(window.pageXOffset+H.right),bn=et+P>window.document.body.offsetWidth,yn=dt+P>window.document.body.offsetWidth;if(qe(e.calendarContainer,"rightMost",bn),!e.config.static)if(e.calendarContainer.style.top=`${Ee}px`,!bn)e.calendarContainer.style.left=`${et}px`,e.calendarContainer.style.right="auto";else if(!yn)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=`${dt}px`;else{const vn=jt();if(vn===void 0)return;const Pr=window.document.body.offsetWidth,Fa=Math.max(0,Pr/2-P/2),Na=".flatpickr-calendar.centerMost:before",Ka=".flatpickr-calendar.centerMost:after",Ba=vn.cssRules.length,Ra=`{left:${H.left}px;right:auto;}`;qe(e.calendarContainer,"rightMost",!1),qe(e.calendarContainer,"centerMost",!0),vn.insertRule(`${Na},${Ka}${Ra}`,Ba),e.calendarContainer.style.left=`${Fa}px`,e.calendarContainer.style.right="auto"}}function jt(){let u=null;for(let h=0;h<document.styleSheets.length;h++){const w=document.styleSheets[h];try{w.cssRules}catch{continue}u=w;break}return u??Re()}function Re(){const u=document.createElement("style");return document.head.appendChild(u),u.sheet}function $e(){e.config.noCalendar||e.isMobile||(X(),Nt(),G())}function pt(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function hn(u){u.preventDefault(),u.stopPropagation();const h=q=>q.classList&&q.classList.contains("flatpickr-day")&&!q.classList.contains("flatpickr-disabled")&&!q.classList.contains("notAllowed"),w=Oa(Qe(u),h);if(w===void 0)return;const P=w,R=e.latestSelectedDateObj=new Date(P.dateObj.getTime()),j=(R.getMonth()<e.currentMonth||R.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=P,e.config.mode==="single")e.selectedDates=[R];else if(e.config.mode==="multiple"){const q=Gt(R);q?e.selectedDates.splice(parseInt(q),1):e.selectedDates.push(R)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=R,e.selectedDates.push(R),Ze(R,e.selectedDates[0],!0)!==0&&e.selectedDates.sort((q,H)=>q.getTime()-H.getTime()));if(m(),j){const q=e.currentYear!==R.getFullYear();e.currentYear=R.getFullYear(),e.currentMonth=R.getMonth(),q&&(ke("onYearChange"),X()),ke("onMonthChange")}if(Nt(),G(),at(),!j&&e.config.mode!=="range"&&e.config.showMonths===1?C(P):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){const q=e.config.mode==="single"&&!e.config.enableTime,H=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(q||H)&&pt()}y()}const Ft={locale:[Je,re],showMonths:[Z,o,J],minDate:[v],maxDate:[v],clickOpens:[()=>{e.config.clickOpens===!0?(p(e._input,"focus",e.open),p(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function Yn(u,h){if(u!==null&&typeof u=="object"){Object.assign(e.config,u);for(const w in u)Ft[w]!==void 0&&Ft[w].forEach(P=>P())}else e.config[u]=h,Ft[u]!==void 0?Ft[u].forEach(w=>w()):Kr.indexOf(u)>-1&&(e.config[u]=Br(h));e.redraw(),at(!0)}function mn(u,h){let w=[];if(u instanceof Array)w=u.map(P=>e.parseDate(P,h));else if(u instanceof Date||typeof u=="number")w=[e.parseDate(u,h)];else if(typeof u=="string")switch(e.config.mode){case"single":case"time":w=[e.parseDate(u,h)];break;case"multiple":w=u.split(e.config.conjunction).map(P=>e.parseDate(P,h));break;case"range":w=u.split(e.l10n.rangeSeparator).map(P=>e.parseDate(P,h));break}else e.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(u)}`));e.selectedDates=e.config.allowInvalidPreload?w:w.filter(P=>P instanceof Date&&ae(P,!1)),e.config.mode==="range"&&e.selectedDates.sort((P,R)=>P.getTime()-R.getTime())}function Hn(u,h=!1,w=e.config.dateFormat){if(u!==0&&!u||u instanceof Array&&u.length===0)return e.clear(h);mn(u,w),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),v(void 0,h),f(),e.selectedDates.length===0&&e.clear(!1),at(h),h&&ke("onChange")}function pn(u){return u.slice().map(h=>typeof h=="string"||typeof h=="number"||h instanceof Date?e.parseDate(h,void 0,!0):h&&typeof h=="object"&&h.from&&h.to?{from:e.parseDate(h.from,void 0),to:e.parseDate(h.to,void 0)}:h).filter(h=>h)}function Vn(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;const u=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);u&&mn(u,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function qn(){if(e.input=Be(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=fe(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),e._positionElement=e.config.positionElement||e._input}function zn(){const u=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=fe("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=u,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=u==="datetime-local"?"Y-m-d\\TH:i:S":u==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}p(e.mobileInput,"change",h=>{e.setDate(Qe(h).value,!1,e.mobileFormatStr),ke("onChange"),ke("onClose")})}function Wn(u){if(e.isOpen===!0)return e.close();e.open(u)}function ke(u,h){if(e.config===void 0)return;const w=e.config[u];if(w!==void 0&&w.length>0)for(let P=0;w[P]&&P<w.length;P++)w[P](e.selectedDates,e.input.value,e,h);u==="onChange"&&(e.input.dispatchEvent(Ut("change")),e.input.dispatchEvent(Ut("input")))}function Ut(u){const h=document.createEvent("Event");return h.initEvent(u,!0,!0),h}function Gt(u){for(let h=0;h<e.selectedDates.length;h++)if(Ze(e.selectedDates[h],u)===0)return""+h;return!1}function Un(u){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Ze(u,e.selectedDates[0])>=0&&Ze(u,e.selectedDates[1])<=0}function Nt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach((u,h)=>{const w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+h),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[h].textContent=xr(w.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=w.getMonth().toString(),u.value=w.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function gn(u){return e.selectedDates.map(h=>e.formatDate(h,u)).filter((h,w,P)=>e.config.mode!=="range"||e.config.enableTime||P.indexOf(h)===w).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function at(u=!0){e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=gn(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=gn(e.config.altFormat)),u!==!1&&ke("onValueUpdate")}function Gn(u){const h=Qe(u),w=e.prevMonthNav.contains(h),P=e.nextMonthNav.contains(h);w||P?de(w?-1:1):e.yearElements.indexOf(h)>=0?h.select():h.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):h.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function ja(u){u.preventDefault();const h=u.type==="keydown",w=Qe(u),P=w;e.amPM!==void 0&&w===e.amPM&&(e.amPM.textContent=e.l10n.amPM[tt(e.amPM.textContent===e.l10n.amPM[0])]);const R=parseFloat(P.getAttribute("min")),j=parseFloat(P.getAttribute("max")),q=parseFloat(P.getAttribute("step")),H=parseInt(P.value,10),se=u.delta||(h?u.which===38?1:-1:0);let le=H+q*se;if(typeof P.value<"u"&&P.value.length===2){const Ee=P===e.hourElement,et=P===e.minuteElement;le<R?(le=j+le+tt(!Ee)+(tt(Ee)&&tt(!e.amPM)),et&&b(void 0,-1,e.hourElement)):le>j&&(le=P===e.hourElement?le-j-tt(!e.amPM):R,et&&b(void 0,1,e.hourElement)),e.amPM&&Ee&&(q===1?le+H===23:Math.abs(le-H)>q)&&(e.amPM.textContent=e.l10n.amPM[tt(e.amPM.textContent===e.l10n.amPM[0])]),P.value=Ge(le)}}return i(),e}function rn(n,t){const e=Array.prototype.slice.call(n).filter(i=>i instanceof HTMLElement),r=[];for(let i=0;i<e.length;i++){const a=e[i];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=os(a,t||{}),r.push(a._flatpickr)}catch(o){console.error(o)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return rn(this,n)},HTMLElement.prototype.flatpickr=function(n){return rn([this],n)});var Ae=function(n,t){return typeof n=="string"?rn(window.document.querySelectorAll(n),t):n instanceof Node?rn([n],t):rn(n,t)};Ae.defaultConfig={};Ae.l10ns={en:Object.assign({},Nn),default:Object.assign({},Nn)};Ae.localize=n=>{Ae.l10ns.default=Object.assign(Object.assign({},Ae.l10ns.default),n)};Ae.setDefaults=n=>{Ae.defaultConfig=Object.assign(Object.assign({},Ae.defaultConfig),n)};Ae.parseDate=di({});Ae.formatDate=Pa({});Ae.compareDates=Ze;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return rn(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Ae);let kn;function ss(n){const{calendarContainer:t,days:e,daysContainer:r,weekdayContainer:i,selectedDates:a}=n;t.classList.add("bx--date-picker__calendar"),t.querySelector(".flatpickr-month").classList.add("bx--date-picker__month"),i.classList.add("bx--date-picker__weekdays"),i.querySelectorAll(".flatpickr-weekday").forEach(o=>{o.classList.add("bx--date-picker__weekday")}),r.classList.add("bx--date-picker__days"),e.querySelectorAll(".flatpickr-day").forEach(o=>{o.classList.add("bx--date-picker__day"),o.classList.contains("today")&&a.length>0?o.classList.add("no-border"):o.classList.contains("today")&&a.length===0&&o.classList.remove("no-border")})}function Bi(n){const t=n.l10n.months.longhand[n.currentMonth],e=n.monthNav.querySelector(".cur-month");if(e)e.textContent=t;else{const r=n.monthsDropdownContainer,i=document.createElement("span");i.setAttribute("class","cur-month"),i.textContent=t,r.parentNode.replaceChild(i,r)}}async function ls({options:n,base:t,input:e,dispatch:r}){let i=n.locale;n.locale==="en"&&kn&&kn.en&&(kn.en.weekdays.shorthand.forEach((o,s)=>{const l=o.slice(0,2);kn.en.weekdays.shorthand[s]=l==="Th"?"Th":l.charAt(0)}),i=kn.en);let a;return n.mode==="range"&&(a=(await Xa(()=>import("../chunks/rangePlugin.0a0117f2.js"),[],import.meta.url)).default),new Ae(t,{allowInput:!0,disableMobile:!0,clickOpens:!0,locale:i,plugins:[n.mode==="range"&&new a({position:"left",input:e})].filter(Boolean),nextArrow:'<svg width="16px" height="16px" viewBox="0 0 16 16"><polygon points="11,8 6,13 5.3,12.3 9.6,8 5.3,3.7 6,3 "/><rect width="16" height="16" style="fill: none" /></svg>',prevArrow:'<svg width="16px" height="16px" viewBox="0 0 16 16"><polygon points="5,8 10,3 10.7,3.7 6.4,8 10.7,12.3 10,13 "/><rect width="16" height="16" style="fill: none" /></svg>',onChange:()=>{r("change")},onClose:()=>{r("close")},onMonthChange:(o,s,l)=>{Bi(l)},onOpen:(o,s,l)=>{r("open"),ss(l),Bi(l)},...n})}function us(n){let t,e,r,i,a,o;const s=n[30].default,l=hr(s,n,n[29],null);let d=[n[16]],m={};for(let f=0;f<d.length;f+=1)m=We(m,d[f]);return{c(){t=K("div"),e=K("div"),l&&l.c(),this.h()},l(f){t=B(f,"DIV",{});var c=N(t);e=B(c,"DIV",{id:!0,class:!0});var g=N(e);l&&l.l(g),g.forEach(S),c.forEach(S),this.h()},h(){E(e,"id",n[3]),E(e,"class",r=(n[0]&&`bx--date-picker--${n[0]}`)+" "+(n[0]==="range"&&n[7]&&"bx--date-picker--nolabel")),he(e,"bx--date-picker",!0),he(e,"bx--date-picker--short",n[1]),he(e,"bx--date-picker--light",n[2]),br(t,m),he(t,"bx--form-item",!0)},m(f,c){Oe(f,t,c),D(t,e),l&&l.m(e,null),n[36](e),i=!0,a||(o=[me(window,"click",n[35]),me(e,"keydown",n[37]),me(t,"click",n[31]),me(t,"mouseover",n[32]),me(t,"mouseenter",n[33]),me(t,"mouseleave",n[34])],a=!0)},p(f,c){l&&l.p&&(!i||c[0]&536870912)&&mr(l,s,f,f[29],i?gr(s,f[29],c,null):pr(f[29]),null),(!i||c[0]&8)&&E(e,"id",f[3]),(!i||c[0]&129&&r!==(r=(f[0]&&`bx--date-picker--${f[0]}`)+" "+(f[0]==="range"&&f[7]&&"bx--date-picker--nolabel")))&&E(e,"class",r),(!i||c[0]&129)&&he(e,"bx--date-picker",!0),(!i||c[0]&131)&&he(e,"bx--date-picker--short",f[1]),(!i||c[0]&133)&&he(e,"bx--date-picker--light",f[2]),br(t,m=Kn(d,[c[0]&65536&&f[16]])),he(t,"bx--form-item",!0)},i(f){i||(ue(l,f),i=!0)},o(f){be(l,f),i=!1},d(f){f&&S(t),l&&l.d(f),n[36](null),a=!1,cn(o)}}}function cs(n,t,e){const r=["datePickerType","value","valueFrom","valueTo","dateFormat","maxDate","minDate","locale","short","light","id","flatpickrProps"];let i=ht(t,r),a,o,s,l,d,m,f,c,{$$slots:g={},$$scope:p}=t,{datePickerType:y="simple"}=t,{value:_=""}=t,{valueFrom:v=""}=t,{valueTo:k=""}=t,{dateFormat:b="m/d/Y"}=t,{maxDate:T=null}=t,{minDate:x=null}=t,{locale:C="en"}=t,{short:O=!1}=t,{light:M=!1}=t,{id:I="ccs-"+Math.random().toString(36)}=t,{flatpickrProps:L={}}=t;const G=Ha(),X=_n([]),V=Qn(X,A=>A.map(({id:ne})=>ne));ze(n,V,A=>e(41,f=A));const Z=Qn(X,A=>A.filter(({labelText:ne})=>!!ne).length===0);ze(n,Z,A=>e(7,c=A));const pe=_n(_);ze(n,pe,A=>e(28,l=A));const ie=_n(v);ze(n,ie,A=>e(27,s=A));const J=_n(k);ze(n,J,A=>e(26,o=A));const re=_n(y);ze(n,re,A=>e(40,m=A));const ge=Qn(re,A=>A==="range");ze(n,ge,A=>e(39,d=A));const de=Qn(re,A=>A==="single"||A==="range");ze(n,de,A=>e(4,a=A));let z=null,ye=null,ce=null,_e=null;Va("DatePicker",{range:ge,inputValue:pe,inputValueFrom:ie,inputValueTo:J,inputIds:V,hasCalendar:de,add:A=>{X.update(ne=>[...ne,A])},declareRef:({id:A,ref:ne})=>{f.indexOf(A)===0?e(25,ce=ne):_e=ne},updateValue:({type:A,value:ne})=>{(!z&&A==="input"||A==="change")&&pe.set(ne),!z&&A==="change"&&G("change",ne)},blurInput:A=>{z&&!z.calendarContainer.contains(A)&&z.close()},openCalendar:()=>{z.open()},focusCalendar:()=>{(z.selectedDateElem||z.todayDateElem||z.calendarContainer.querySelector(".flatpickr-day[tabindex]")||z.calendarContainer).focus()}});async function Pe(A){if(z){z.set("minDate",x),z.set("maxDate",T),z.set("locale",C),z.set("dateFormat",b),Object.entries(L).forEach(([ne,F])=>{z.set(A,F)});return}e(5,z=await ls({options:{...A,appendTo:ye,defaultDate:l,mode:m},base:ce,input:_e,dispatch:ne=>{const F={selectedDates:z.selectedDates};if(d){const Be=ce.value,Je=_e.value;F.dateStr={from:ce.value,to:_e.value},e(18,v=Be),e(19,k=Je)}else F.dateStr=ce.value;return G(ne,F)}}))}qa(()=>()=>{z&&(z.destroy(),e(5,z=null))}),za(()=>{z&&(d?(z.setDate([s,o]),e(25,ce.value=s,ce)):z.setDate(l))});function Se(A){vt.call(this,n,A)}function ae(A){vt.call(this,n,A)}function $(A){vt.call(this,n,A)}function we(A){vt.call(this,n,A)}const oe=({target:A})=>{!z||!z.isOpen||ye&&ye.contains(A)||z.calendarContainer.contains(A)||z.close()};function Q(A){xt[A?"unshift":"push"](()=>{ye=A,e(6,ye)})}const Ne=A=>{var ne;z!=null&&z.isOpen&&A.key==="Escape"&&(A.stopPropagation(),z.close()),a&&/INPUT/.test((ne=document.activeElement)==null?void 0:ne.tagName)&&A.key==="Enter"&&A.stopPropagation()};return n.$$set=A=>{t=We(We({},t),Ot(A)),e(16,i=ht(t,r)),"datePickerType"in A&&e(0,y=A.datePickerType),"value"in A&&e(17,_=A.value),"valueFrom"in A&&e(18,v=A.valueFrom),"valueTo"in A&&e(19,k=A.valueTo),"dateFormat"in A&&e(20,b=A.dateFormat),"maxDate"in A&&e(21,T=A.maxDate),"minDate"in A&&e(22,x=A.minDate),"locale"in A&&e(23,C=A.locale),"short"in A&&e(1,O=A.short),"light"in A&&e(2,M=A.light),"id"in A&&e(3,I=A.id),"flatpickrProps"in A&&e(24,L=A.flatpickrProps),"$$scope"in A&&e(29,p=A.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&268435456&&e(17,_=l),n.$$.dirty[0]&131072&&pe.set(_),n.$$.dirty[0]&134217728&&e(18,v=s),n.$$.dirty[0]&262144&&ie.set(v),n.$$.dirty[0]&67108864&&e(19,k=o),n.$$.dirty[0]&524288&&J.set(k),n.$$.dirty[0]&66060304&&a&&ce&&Pe({dateFormat:b,locale:C,maxDate:T,minDate:x,...L})},[y,O,M,I,a,z,ye,c,V,Z,pe,ie,J,re,ge,de,i,_,v,k,b,T,x,C,L,ce,o,s,l,p,g,Se,ae,$,we,oe,Q,Ne]}class ds extends Ct{constructor(t){super(),Et(this,t,cs,us,Mt,{datePickerType:0,value:17,valueFrom:18,valueTo:19,dateFormat:20,maxDate:21,minDate:22,locale:23,short:1,light:2,id:3,flatpickrProps:24},null,[-1,-1])}}const Sa=ds;function Ri(n){let t,e;return{c(){t=Te("title"),e=De(n[1])},l(r){t=Ie(r,"title",{});var i=N(t);e=Ce(i,n[1]),i.forEach(S)},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i&2&&ot(e,r[1])},d(r){r&&S(t)}}}function fs(n){let t,e,r=n[1]&&Ri(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],a={};for(let o=0;o<i.length;o+=1)a=We(a,i[o]);return{c(){t=Te("svg"),r&&r.c(),e=Te("path"),this.h()},l(o){t=Ie(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=N(t);r&&r.l(s),e=Ie(s,"path",{d:!0}),N(e).forEach(S),s.forEach(S),this.h()},h(){E(e,"d","M26,4h-4V2h-2v2h-8V2h-2v2H6C4.9,4,4,4.9,4,6v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V6C28,4.9,27.1,4,26,4z M26,26H6V12h20	V26z M26,10H6V6h4v2h2V6h8v2h2V6h4V10z"),an(t,a)},m(o,s){Oe(o,t,s),r&&r.m(t,null),D(t,e)},p(o,[s]){o[1]?r?r.p(o,s):(r=Ri(o),r.c(),r.m(t,e)):r&&(r.d(1),r=null),an(t,a=Kn(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:on,o:on,d(o){o&&S(t),r&&r.d()}}}function hs(n,t,e){let r,i;const a=["size","title"];let o=ht(t,a),{size:s=16}=t,{title:l=void 0}=t;return n.$$set=d=>{e(5,t=We(We({},t),Ot(d))),e(3,o=ht(t,a)),"size"in d&&e(0,s=d.size),"title"in d&&e(1,l=d.title)},n.$$.update=()=>{e(4,r=t["aria-label"]||t["aria-labelledby"]||l),e(2,i={"aria-hidden":r?void 0:!0,role:r?"img":void 0,focusable:Number(t.tabindex)===0?!0:void 0})},t=Ot(t),[s,l,i,o,r]}class ms extends Ct{constructor(t){super(),Et(this,t,hs,fs,Mt,{size:0,title:1})}}const ps=ms,gs=n=>({}),Li=n=>({});function Yi(n){let t,e;const r=n[35].labelText,i=hr(r,n,n[34],Li),a=i||bs(n);return{c(){t=K("label"),a&&a.c(),this.h()},l(o){t=B(o,"LABEL",{for:!0});var s=N(t);a&&a.l(s),s.forEach(S),this.h()},h(){E(t,"for",n[8]),he(t,"bx--label",!0),he(t,"bx--visually-hidden",n[10]),he(t,"bx--label--disabled",n[5])},m(o,s){Oe(o,t,s),a&&a.m(t,null),e=!0},p(o,s){i?i.p&&(!e||s[1]&8)&&mr(i,r,o,o[34],e?gr(r,o[34],s,gs):pr(o[34]),Li):a&&a.p&&(!e||s[0]&512)&&a.p(o,e?s:[-1,-1]),(!e||s[0]&256)&&E(t,"for",o[8]),(!e||s[0]&1024)&&he(t,"bx--visually-hidden",o[10]),(!e||s[0]&32)&&he(t,"bx--label--disabled",o[5])},i(o){e||(ue(a,o),e=!0)},o(o){be(a,o),e=!1},d(o){o&&S(t),a&&a.d(o)}}}function bs(n){let t;return{c(){t=De(n[9])},l(e){t=Ce(e,n[9])},m(e,r){Oe(e,t,r)},p(e,r){r[0]&512&&ot(t,e[9])},d(e){e&&S(t)}}}function Hi(n){let t,e,r,i=n[11]&&Vi(),a=!n[11]&&n[13]&&qi();return{c(){i&&i.c(),t=ee(),a&&a.c(),e=sn()},l(o){i&&i.l(o),t=te(o),a&&a.l(o),e=sn()},m(o,s){i&&i.m(o,s),Oe(o,t,s),a&&a.m(o,s),Oe(o,e,s),r=!0},p(o,s){o[11]?i?s[0]&2048&&ue(i,1):(i=Vi(),i.c(),ue(i,1),i.m(t.parentNode,t)):i&&(Rt(),be(i,1,1,()=>{i=null}),Lt()),!o[11]&&o[13]?a?s[0]&10240&&ue(a,1):(a=qi(),a.c(),ue(a,1),a.m(e.parentNode,e)):a&&(Rt(),be(a,1,1,()=>{a=null}),Lt())},i(o){r||(ue(i),ue(a),r=!0)},o(o){be(i),be(a),r=!1},d(o){i&&i.d(o),o&&S(t),a&&a.d(o),o&&S(e)}}}function Vi(n){let t,e;return t=new Xo({props:{class:"bx--date-picker__icon bx--date-picker__icon--invalid"}}),{c(){st(t.$$.fragment)},l(r){lt(t.$$.fragment,r)},m(r,i){ut(t,r,i),e=!0},i(r){e||(ue(t.$$.fragment,r),e=!0)},o(r){be(t.$$.fragment,r),e=!1},d(r){ct(t,r)}}}function qi(n){let t,e;return t=new ts({props:{class:"bx--date-picker__icon bx--date-picker__icon--warn"}}),{c(){st(t.$$.fragment)},l(r){lt(t.$$.fragment,r)},m(r,i){ut(t,r,i),e=!0},i(r){e||(ue(t.$$.fragment,r),e=!0)},o(r){be(t.$$.fragment,r),e=!1},d(r){ct(t,r)}}}function zi(n){let t,e;return t=new ps({props:{class:"bx--date-picker__icon","aria-label":n[7]}}),t.$on("click",n[27]),{c(){st(t.$$.fragment)},l(r){lt(t.$$.fragment,r)},m(r,i){ut(t,r,i),e=!0},p(r,i){const a={};i[0]&128&&(a["aria-label"]=r[7]),t.$set(a)},i(r){e||(ue(t.$$.fragment,r),e=!0)},o(r){be(t.$$.fragment,r),e=!1},d(r){ct(t,r)}}}function Wi(n){let t,e;return{c(){t=K("div"),e=De(n[12]),this.h()},l(r){t=B(r,"DIV",{});var i=N(t);e=Ce(i,n[12]),i.forEach(S),this.h()},h(){he(t,"bx--form-requirement",!0)},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i[0]&4096&&ot(e,r[12])},d(r){r&&S(t)}}}function Ui(n){let t,e;return{c(){t=K("div"),e=De(n[14]),this.h()},l(r){t=B(r,"DIV",{});var i=N(t);e=Ce(i,n[14]),i.forEach(S),this.h()},h(){he(t,"bx--form-requirement",!0)},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i[0]&16384&&ot(e,r[14])},d(r){r&&S(t)}}}function Gi(n){let t,e;return{c(){t=K("div"),e=De(n[6]),this.h()},l(r){t=B(r,"DIV",{});var i=N(t);e=Ce(i,n[6]),i.forEach(S),this.h()},h(){he(t,"bx--form__helper-text",!0),he(t,"bx--form__helper-text--disabled",n[5])},m(r,i){Oe(r,t,i),D(t,e)},p(r,i){i[0]&64&&ot(e,r[6]),i[0]&32&&he(t,"bx--form__helper-text--disabled",r[5])},d(r){r&&S(t)}}}function ys(n){let t,e,r,i,a,o,s,l,d,m,f,c,g,p,y,_=(n[9]||n[32].labelText)&&Yi(n),v=[{"data-invalid":a=n[11]||void 0},{id:n[8]},{name:n[15]},{placeholder:n[3]},{type:n[2]},{pattern:n[4]},{disabled:n[5]},n[33],{value:o=n[16]?n[17].indexOf(n[8])===0?n[18]:n[19]:n[20]},{class:s=n[1]&&`bx--date-picker__input--${n[1]}`}],k={};for(let M=0;M<v.length;M+=1)k=We(k,v[M]);let b=!n[21]&&Hi(n),T=n[21]&&zi(n),x=n[11]&&Wi(n),C=!n[11]&&n[13]&&Ui(n),O=n[6]&&Gi(n);return{c(){t=K("div"),_&&_.c(),e=ee(),r=K("div"),i=K("input"),l=ee(),b&&b.c(),d=ee(),T&&T.c(),m=ee(),x&&x.c(),f=ee(),C&&C.c(),c=ee(),O&&O.c(),this.h()},l(M){t=B(M,"DIV",{});var I=N(t);_&&_.l(I),e=te(I),r=B(I,"DIV",{});var L=N(r);i=B(L,"INPUT",{"data-invalid":!0,id:!0,name:!0,placeholder:!0,type:!0,pattern:!0,class:!0}),l=te(L),b&&b.l(L),d=te(L),T&&T.l(L),L.forEach(S),m=te(I),x&&x.l(I),f=te(I),C&&C.l(I),c=te(I),O&&O.l(I),I.forEach(S),this.h()},h(){br(i,k),he(i,"bx--date-picker__input",!0),he(i,"bx--date-picker__input--invalid",n[11]),he(r,"bx--date-picker-input__wrapper",!0),he(r,"bx--date-picker-input__wrapper--invalid",n[11]),he(r,"bx--date-picker-input__wrapper--warn",n[13]),he(t,"bx--date-picker-container",!0),he(t,"bx--date-picker--nolabel",!n[9])},m(M,I){Oe(M,t,I),_&&_.m(t,null),D(t,e),D(t,r),D(r,i),"value"in k&&(i.value=k.value),i.autofocus&&i.focus(),n[40](i),D(r,l),b&&b.m(r,null),D(r,d),T&&T.m(r,null),D(t,m),x&&x.m(t,null),D(t,f),C&&C.m(t,null),D(t,c),O&&O.m(t,null),g=!0,p||(y=[me(i,"input",n[36]),me(i,"input",n[41]),me(i,"change",n[42]),me(i,"keydown",n[37]),me(i,"keydown",n[43]),me(i,"keyup",n[38]),me(i,"blur",n[39]),me(i,"blur",n[44])],p=!0)},p(M,I){M[9]||M[32].labelText?_?(_.p(M,I),I[0]&512|I[1]&2&&ue(_,1)):(_=Yi(M),_.c(),ue(_,1),_.m(t,e)):_&&(Rt(),be(_,1,1,()=>{_=null}),Lt()),br(i,k=Kn(v,[(!g||I[0]&2048&&a!==(a=M[11]||void 0))&&{"data-invalid":a},(!g||I[0]&256)&&{id:M[8]},(!g||I[0]&32768)&&{name:M[15]},(!g||I[0]&8)&&{placeholder:M[3]},(!g||I[0]&4)&&{type:M[2]},(!g||I[0]&16)&&{pattern:M[4]},(!g||I[0]&32)&&{disabled:M[5]},I[1]&4&&M[33],(!g||I[0]&2031872&&o!==(o=M[16]?M[17].indexOf(M[8])===0?M[18]:M[19]:M[20])&&i.value!==o)&&{value:o},(!g||I[0]&2&&s!==(s=M[1]&&`bx--date-picker__input--${M[1]}`))&&{class:s}])),"value"in k&&(i.value=k.value),he(i,"bx--date-picker__input",!0),he(i,"bx--date-picker__input--invalid",M[11]),M[21]?b&&(Rt(),be(b,1,1,()=>{b=null}),Lt()):b?(b.p(M,I),I[0]&2097152&&ue(b,1)):(b=Hi(M),b.c(),ue(b,1),b.m(r,d)),M[21]?T?(T.p(M,I),I[0]&2097152&&ue(T,1)):(T=zi(M),T.c(),ue(T,1),T.m(r,null)):T&&(Rt(),be(T,1,1,()=>{T=null}),Lt()),(!g||I[0]&2048)&&he(r,"bx--date-picker-input__wrapper--invalid",M[11]),(!g||I[0]&8192)&&he(r,"bx--date-picker-input__wrapper--warn",M[13]),M[11]?x?x.p(M,I):(x=Wi(M),x.c(),x.m(t,f)):x&&(x.d(1),x=null),!M[11]&&M[13]?C?C.p(M,I):(C=Ui(M),C.c(),C.m(t,c)):C&&(C.d(1),C=null),M[6]?O?O.p(M,I):(O=Gi(M),O.c(),O.m(t,null)):O&&(O.d(1),O=null),(!g||I[0]&512)&&he(t,"bx--date-picker--nolabel",!M[9])},i(M){g||(ue(_),ue(b),ue(T),g=!0)},o(M){be(_),be(b),be(T),g=!1},d(M){M&&S(t),_&&_.d(),n[40](null),b&&b.d(),T&&T.d(),x&&x.d(),C&&C.d(),O&&O.d(),p=!1,cn(y)}}}function vs(n,t,e){const r=["size","type","placeholder","pattern","disabled","helperText","iconDescription","id","labelText","hideLabel","invalid","invalidText","warn","warnText","name","ref"];let i=ht(t,r),a,o,s,l,d,m,{$$slots:f={},$$scope:c}=t;const g=Wa(f);let{size:p=void 0}=t,{type:y="text"}=t,{placeholder:_=""}=t,{pattern:v="\\d{1,2}\\/\\d{1,2}\\/\\d{4}"}=t,{disabled:k=!1}=t,{helperText:b=""}=t,{iconDescription:T=""}=t,{id:x="ccs-"+Math.random().toString(36)}=t,{labelText:C=""}=t,{hideLabel:O=!1}=t,{invalid:M=!1}=t,{invalidText:I=""}=t,{warn:L=!1}=t,{warnText:G=""}=t,{name:X=void 0}=t,{ref:V=null}=t;const{range:Z,add:pe,hasCalendar:ie,declareRef:J,inputIds:re,updateValue:ge,blurInput:de,openCalendar:z,focusCalendar:ye,inputValue:ce,inputValueFrom:_e,inputValueTo:Pe}=Ua("DatePicker");ze(n,Z,F=>e(16,a=F)),ze(n,ie,F=>e(21,m=F)),ze(n,re,F=>e(17,o=F)),ze(n,ce,F=>e(20,d=F)),ze(n,_e,F=>e(18,s=F)),ze(n,Pe,F=>e(19,l=F)),pe({id:x,labelText:C});function Se(F){vt.call(this,n,F)}function ae(F){vt.call(this,n,F)}function $(F){vt.call(this,n,F)}function we(F){vt.call(this,n,F)}function oe(F){xt[F?"unshift":"push"](()=>{V=F,e(0,V)})}const Q=({target:F})=>{ge({type:"input",value:F.value})},Ne=({target:F})=>{ge({type:"change",value:F.value})},A=({key:F})=>{F==="ArrowDown"&&ye()},ne=({relatedTarget:F})=>{de(F)};return n.$$set=F=>{t=We(We({},t),Ot(F)),e(33,i=ht(t,r)),"size"in F&&e(1,p=F.size),"type"in F&&e(2,y=F.type),"placeholder"in F&&e(3,_=F.placeholder),"pattern"in F&&e(4,v=F.pattern),"disabled"in F&&e(5,k=F.disabled),"helperText"in F&&e(6,b=F.helperText),"iconDescription"in F&&e(7,T=F.iconDescription),"id"in F&&e(8,x=F.id),"labelText"in F&&e(9,C=F.labelText),"hideLabel"in F&&e(10,O=F.hideLabel),"invalid"in F&&e(11,M=F.invalid),"invalidText"in F&&e(12,I=F.invalidText),"warn"in F&&e(13,L=F.warn),"warnText"in F&&e(14,G=F.warnText),"name"in F&&e(15,X=F.name),"ref"in F&&e(0,V=F.ref),"$$scope"in F&&e(34,c=F.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&257&&V&&J({id:x,ref:V})},[V,p,y,_,v,k,b,T,x,C,O,M,I,L,G,X,a,o,s,l,d,m,Z,ie,re,ge,de,z,ye,ce,_e,Pe,g,i,c,f,Se,ae,$,we,oe,Q,Ne,A,ne]}class _s extends Ct{constructor(t){super(),Et(this,t,vs,ys,Mt,{size:1,type:2,placeholder:3,pattern:4,disabled:5,helperText:6,iconDescription:7,id:8,labelText:9,hideLabel:10,invalid:11,invalidText:12,warn:13,warnText:14,name:15,ref:0},null,[-1,-1])}}const Aa=_s;function ws(n){let t,e;return t=new Aa({}),{c(){st(t.$$.fragment)},l(r){lt(t.$$.fragment,r)},m(r,i){ut(t,r,i),e=!0},i(r){e||(ue(t.$$.fragment,r),e=!0)},o(r){be(t.$$.fragment,r),e=!1},d(r){ct(t,r)}}}function ks(n){let t,e,r,i,a,o,s,l,d,m,f,c,g,p,y,_,v,k,b,T,x,C,O,M,I,L,G,X,V,Z,pe,ie,J,re,ge,de,z,ye,ce,_e;function Pe(ae){n[15](ae)}let Se={datePickerType:"single",dateFormat:"d-m-Y",$$slots:{default:[ws]},$$scope:{ctx:n}};return n[3]!==void 0&&(Se.value=n[3]),V=new Sa({props:Se}),xt.push(()=>Tr(V,"value",Pe)),{c(){t=K("div"),e=K("div"),r=Te("svg"),i=Te("path"),a=Te("path"),o=Te("path"),s=ee(),l=K("h1"),d=De("Edit Task"),m=ee(),f=K("label"),c=De("Category"),g=ee(),p=K("input"),y=ee(),_=K("label"),v=De("Title"),k=ee(),b=K("input"),T=ee(),x=K("label"),C=De("description"),O=ee(),M=K("input"),I=ee(),L=K("label"),G=De("Date"),X=ee(),st(V.$$.fragment),pe=ee(),ie=K("div"),J=K("button"),re=De("Submit"),ge=ee(),de=K("button"),z=De("Cancel"),this.h()},l(ae){t=B(ae,"DIV",{class:!0});var $=N(t);e=B($,"DIV",{class:!0});var we=N(e);r=Ie(we,"svg",{xmlns:!0,class:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var oe=N(r);i=Ie(oe,"path",{stroke:!0,d:!0}),N(i).forEach(S),a=Ie(oe,"path",{d:!0}),N(a).forEach(S),o=Ie(oe,"path",{d:!0}),N(o).forEach(S),oe.forEach(S),s=te(we),l=B(we,"H1",{class:!0});var Q=N(l);d=Ce(Q,"Edit Task"),Q.forEach(S),we.forEach(S),m=te($),f=B($,"LABEL",{for:!0,class:!0});var Ne=N(f);c=Ce(Ne,"Category"),Ne.forEach(S),g=te($),p=B($,"INPUT",{id:!0,class:!0}),y=te($),_=B($,"LABEL",{for:!0,class:!0});var A=N(_);v=Ce(A,"Title"),A.forEach(S),k=te($),b=B($,"INPUT",{id:!0,class:!0}),T=te($),x=B($,"LABEL",{for:!0,class:!0});var ne=N(x);C=Ce(ne,"description"),ne.forEach(S),O=te($),M=B($,"INPUT",{id:!0,class:!0}),I=te($),L=B($,"LABEL",{for:!0,class:!0});var F=N(L);G=Ce(F,"Date"),F.forEach(S),X=te($),lt(V.$$.fragment,$),pe=te($),ie=B($,"DIV",{class:!0});var Be=N(ie);J=B(Be,"BUTTON",{type:!0,class:!0});var Je=N(J);re=Ce(Je,"Submit"),Je.forEach(S),ge=te(Be),de=B(Be,"BUTTON",{class:!0});var Ve=N(de);z=Ce(Ve,"Cancel"),Ve.forEach(S),Be.forEach(S),$.forEach(S),this.h()},h(){E(i,"stroke","none"),E(i,"d","M0 0h24v24H0z"),E(a,"d","M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12"),E(o,"d","M20 12v4h-4a2 2 0 0 1 0 -4h4"),E(r,"xmlns","http://www.w3.org/2000/svg"),E(r,"class","icon icon-tabler icon-tabler-wallet"),E(r,"width","30"),E(r,"height","30"),E(r,"viewBox","0 0 24 24"),E(r,"stroke-width","1"),E(r,"stroke","currentColor"),E(r,"fill","none"),E(r,"stroke-linecap","round"),E(r,"stroke-linejoin","round"),E(l,"class","text-gray-800 text-xl font-lg font-bold tracking-normal leading-tight mt-1 ml-2"),E(e,"class","mb-4 w-full flex justify-start text-green-400"),E(f,"for","category"),E(f,"class","mt-2 text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(p,"id","category"),E(p,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(_,"for","title"),E(_,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(b,"id","title"),E(b,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(x,"for","description"),E(x,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(M,"id","description"),E(M,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(L,"for","date"),E(L,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(J,"type","submit"),E(J,"class","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 transition duration-150 ease-in-out hover:bg-indigo-600 bg-indigo-700 rounded text-white px-8 py-2 text-sm mr-1"),E(de,"class","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-700 transition duration-150 ease-in-out hover:bg-red-600 bg-red-700 rounded text-white px-8 py-2 text-sm"),E(ie,"class","flex items-center justify-center w-full mt-1"),E(t,"class","relative py-1 px-16 bg-white shadow-md rounded border border-neutral-950")},m(ae,$){Oe(ae,t,$),D(t,e),D(e,r),D(r,i),D(r,a),D(r,o),D(e,s),D(e,l),D(l,d),D(t,m),D(t,f),D(f,c),D(t,g),D(t,p),nt(p,n[0]),D(t,y),D(t,_),D(_,v),D(t,k),D(t,b),nt(b,n[1]),D(t,T),D(t,x),D(x,C),D(t,O),D(t,M),nt(M,n[2]),D(t,I),D(t,L),D(L,G),D(t,X),ut(V,t,null),D(t,pe),D(t,ie),D(ie,J),D(J,re),D(ie,ge),D(ie,de),D(de,z),ye=!0,ce||(_e=[me(p,"input",n[12]),me(b,"input",n[13]),me(M,"input",n[14]),me(J,"click",function(){Zi(n[8](n[4]))&&n[8](n[4]).apply(this,arguments)}),me(de,"click",n[16])],ce=!0)},p(ae,$){n=ae,$&1&&p.value!==n[0]&&nt(p,n[0]),$&2&&b.value!==n[1]&&nt(b,n[1]),$&4&&M.value!==n[2]&&nt(M,n[2]);const we={};$&524288&&(we.$$scope={dirty:$,ctx:n}),!Z&&$&8&&(Z=!0,we.value=n[3],Ir(()=>Z=!1)),V.$set(we)},i(ae){ye||(ue(V.$$.fragment,ae),ye=!0)},o(ae){be(V.$$.fragment,ae),ye=!1},d(ae){ae&&S(t),ct(V),ce=!1,cn(_e)}}}function Ds(n){let t,e,r,i,a,o,s,l,d,m,f,c,g,p,y,_,v,k,b,T,x,C,O,M,I,L,G,X,V,Z,pe,ie,J,re,ge,de,z,ye,ce,_e,Pe,Se,ae,$,we,oe,Q;function Ne(ne){n[17](ne)}let A={$$slots:{default:[ks]},$$scope:{ctx:n}};return n[6]!==void 0&&(A.showModal=n[6]),ae=new Ia({props:A}),xt.push(()=>Tr(ae,"showModal",Ne)),n[18](ae),{c(){t=K("html"),e=K("head"),r=ee(),i=K("body"),a=K("div"),o=K("div"),s=K("div"),l=K("div"),d=K("img"),f=ee(),c=K("button"),g=K("div"),p=Te("svg"),y=Te("path"),_=ee(),v=K("button"),k=K("div"),b=Te("svg"),T=Te("path"),x=ee(),C=K("div"),O=K("div"),M=K("p"),I=De(n[0]),L=ee(),G=K("div"),X=K("div"),V=K("p"),Z=De(n[1]),pe=ee(),ie=K("div"),J=K("div"),re=K("p"),ge=De(n[2]),de=ee(),z=K("div"),ye=K("div"),ce=K("p"),_e=De(n[3]),Pe=ee(),Se=K("div"),st(ae.$$.fragment),this.h()},l(ne){t=B(ne,"HTML",{});var F=N(t);e=B(F,"HEAD",{});var Be=N(e);Be.forEach(S),r=te(F),i=B(F,"BODY",{});var Je=N(i);a=B(Je,"DIV",{class:!0});var Ve=N(a);o=B(Ve,"DIV",{class:!0});var jt=N(o);s=B(jt,"DIV",{class:!0});var Re=N(s);l=B(Re,"DIV",{class:!0});var $e=N(l);d=B($e,"IMG",{src:!0,class:!0,alt:!0}),f=te($e),c=B($e,"BUTTON",{class:!0});var pt=N(c);g=B(pt,"DIV",{class:!0});var hn=N(g);p=Ie(hn,"svg",{stroke:!0,fill:!0,"stroke-width":!0,height:!0,width:!0,viewBox:!0,xmlns:!0});var Ft=N(p);y=Ie(Ft,"path",{fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(y).forEach(S),Ft.forEach(S),hn.forEach(S),pt.forEach(S),_=te($e),v=B($e,"BUTTON",{class:!0});var Yn=N(v);k=B(Yn,"DIV",{class:!0});var mn=N(k);b=Ie(mn,"svg",{stroke:!0,fill:!0,"stroke-width":!0,height:!0,width:!0,viewBox:!0,xmlns:!0});var Hn=N(b);T=Ie(Hn,"path",{fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(T).forEach(S),Hn.forEach(S),mn.forEach(S),Yn.forEach(S),$e.forEach(S),x=te(Re),C=B(Re,"DIV",{class:!0});var pn=N(C);O=B(pn,"DIV",{class:!0});var Vn=N(O);M=B(Vn,"P",{class:!0});var qn=N(M);I=Ce(qn,n[0]),qn.forEach(S),Vn.forEach(S),pn.forEach(S),L=te(Re),G=B(Re,"DIV",{class:!0});var zn=N(G);X=B(zn,"DIV",{class:!0});var Wn=N(X);V=B(Wn,"P",{class:!0});var ke=N(V);Z=Ce(ke,n[1]),ke.forEach(S),Wn.forEach(S),zn.forEach(S),pe=te(Re),ie=B(Re,"DIV",{class:!0});var Ut=N(ie);J=B(Ut,"DIV",{class:!0});var Gt=N(J);re=B(Gt,"P",{class:!0});var Un=N(re);ge=Ce(Un,n[2]),Un.forEach(S),Gt.forEach(S),Ut.forEach(S),de=te(Re),z=B(Re,"DIV",{class:!0});var Nt=N(z);ye=B(Nt,"DIV",{class:!0});var gn=N(ye);ce=B(gn,"P",{class:!0});var at=N(ce);_e=Ce(at,n[3]),at.forEach(S),gn.forEach(S),Nt.forEach(S),Re.forEach(S),jt.forEach(S),Pe=te(Ve),Se=B(Ve,"DIV",{});var Gn=N(Se);lt(ae.$$.fragment,Gn),Gn.forEach(S),Ve.forEach(S),Je.forEach(S),F.forEach(S),this.h()},h(){Ga(d.src,m="https://horizon-tailwind-react-git-tailwind-components-horizon-ui.vercel.app/static/media/Nft3.3b3e6a4b3ada7618de6c.png")||E(d,"src",m),E(d,"class","mb-0 h-10 w-full rounded-xl"),E(d,"alt",""),E(y,"fill","none"),E(y,"stroke-linecap","round"),E(y,"stroke-linejoin","round"),E(y,"stroke-width","2"),E(y,"d","M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"),E(p,"stroke","currentColor"),E(p,"fill","currentColor"),E(p,"stroke-width","0"),E(p,"height","1em"),E(p,"width","1em"),E(p,"viewBox","0 0 20 20"),E(p,"xmlns","http://www.w3.org/2000/svg"),E(g,"class","flex h-full w-full items-center justify-center rounded-full text-xl hover: bg-red-400"),E(c,"class","absolute top-1 right-3 flex items-center justify-center rounded-full bg-red-400 p-2 text-brand-500 hover:cursor-pointer"),E(T,"fill","none"),E(T,"stroke-linecap","round"),E(T,"stroke-linejoin","round"),E(T,"stroke-width","1"),E(T,"d","M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"),E(b,"stroke","currentColor"),E(b,"fill","currentColor"),E(b,"stroke-width","0"),E(b,"height","1em"),E(b,"width","1em"),E(b,"viewBox","0 0 20 20"),E(b,"xmlns","http://www.w3.org/2000/svg"),E(k,"class","flex h-full w-full items-center justify-center rounded-full text-xl hover: bg-green-400"),E(v,"class","absolute top-1 left-3 flex items-center justify-center rounded-full bg-green-400 p-2 text-brand-500 hover:cursor-pointer"),E(l,"class","relative w-full"),E(M,"class","mt-0 text-2xl font-bold text-gray-600 md:mt-1"),E(O,"class","mb-1"),E(C,"class","mb-0 flex flex-col items-center justify-between px-1"),E(V,"class","mt-1 text-2xl font-medium text-gray-600 md:mt-2"),E(X,"class","mb-1"),E(G,"class","mb-1 flex items-center justify-between px-1 md:items-start"),E(re,"class","mt-1 text-base font-medium text-gray-600 md:mt-2"),E(J,"class","mb-2"),E(ie,"class","mb-2 flex items-center justify-between h-[6vh] md:items-start"),E(ce,"class","!mb-0 text-sm font-bold text-brand-500"),E(ye,"class","flex"),E(z,"class","flex items-center justify-between md:items-center lg:justify-between h-[6vh] "),E(s,"class","h-full w-full"),E(o,"class","!z-5 relative flex flex-col rounded-[20px] max-w-[300px] bg-info-100 bg-clip-border shadow-3xl shadow-shadow-500 w-full !p-4 3xl:p-![18px] undefined"),E(a,"class","flex flex-col justify-center items-center h-[50vh] m-2")},m(ne,F){Oe(ne,t,F),D(t,e),D(t,r),D(t,i),D(i,a),D(a,o),D(o,s),D(s,l),D(l,d),D(l,f),D(l,c),D(c,g),D(g,p),D(p,y),D(l,_),D(l,v),D(v,k),D(k,b),D(b,T),D(s,x),D(s,C),D(C,O),D(O,M),D(M,I),D(s,L),D(s,G),D(G,X),D(X,V),D(V,Z),D(s,pe),D(s,ie),D(ie,J),D(J,re),D(re,ge),D(s,de),D(s,z),D(z,ye),D(ye,ce),D(ce,_e),D(a,Pe),D(a,Se),ut(ae,Se,null),we=!0,oe||(Q=[me(c,"click",function(){Zi(n[7](n[4]))&&n[7](n[4]).apply(this,arguments)}),me(v,"click",n[11])],oe=!0)},p(ne,[F]){n=ne,(!we||F&1)&&ot(I,n[0]),(!we||F&2)&&ot(Z,n[1]),(!we||F&4)&&ot(ge,n[2]),(!we||F&8)&&ot(_e,n[3]);const Be={};F&524319&&(Be.$$scope={dirty:F,ctx:n}),!$&&F&64&&($=!0,Be.showModal=n[6],Ir(()=>$=!1)),ae.$set(Be)},i(ne){we||(ue(ae.$$.fragment,ne),we=!0)},o(ne){be(ae.$$.fragment,ne),we=!1},d(ne){ne&&S(t),n[18](null),ct(ae),oe=!1,cn(Q)}}}function Cs(n,t,e){let r,i=!1,{category:a}=t,{title:o}=t,{description:s}=t,{date:l}=t,{id:d}=t,{OldObject:m={category:a,title:o,description:s,date:l}}=t;async function f(C){try{await Fn.tasks.delete(C)}catch(O){status=`Failed to delete ${o}: ${O}`,alert(status)}}async function c(C){try{console.log(a),await Fn.tasks.put({id:C,category:a,title:o,description:s,date:l})}catch(O){status=`Failed to edit ${o}: ${O}`,alert(status)}finally{e(10,m.category=a,m),e(10,m.title=o,m),e(10,m.description=s,m),e(10,m.date=l,m),r.close()}}async function g(C){try{e(0,a=m.category),e(1,o=m.title),e(2,s=m.description),e(3,l=m.date)}catch{status="Failed to reset ",alert(status)}finally{r.close()}}const p=()=>e(6,i=!0);function y(){a=this.value,e(0,a)}function _(){o=this.value,e(1,o)}function v(){s=this.value,e(2,s)}function k(C){l=C,e(3,l)}const b=()=>g();function T(C){i=C,e(6,i)}function x(C){xt[C?"unshift":"push"](()=>{r=C,e(5,r)})}return n.$$set=C=>{"category"in C&&e(0,a=C.category),"title"in C&&e(1,o=C.title),"description"in C&&e(2,s=C.description),"date"in C&&e(3,l=C.date),"id"in C&&e(4,d=C.id),"OldObject"in C&&e(10,m=C.OldObject)},[a,o,s,l,d,r,i,f,c,g,m,p,y,_,v,k,b,T,x]}class Es extends Ct{constructor(t){super(),Et(this,t,Cs,Ds,Mt,{category:0,title:1,description:2,date:3,id:4,OldObject:10})}}function Ms(n,t){return new Za(n,t)}new TextEncoder;function xs(n){let t,e;return t=new Aa({}),{c(){st(t.$$.fragment)},l(r){lt(t.$$.fragment,r)},m(r,i){ut(t,r,i),e=!0},i(r){e||(ue(t.$$.fragment,r),e=!0)},o(r){be(t.$$.fragment,r),e=!1},d(r){ct(t,r)}}}function Ts(n){let t,e,r,i,a,o,s,l,d,m,f,c,g,p,y,_,v,k,b,T,x,C,O,M,I,L,G,X,V,Z,pe,ie,J,re,ge,de,z,ye,ce,_e,Pe,Se,ae;function $(oe){n[11](oe)}let we={datePickerType:"single",dateFormat:"d-m-Y",$$slots:{default:[xs]},$$scope:{ctx:n}};return n[3]!==void 0&&(we.value=n[3]),V=new Sa({props:we}),xt.push(()=>Tr(V,"value",$)),{c(){t=K("div"),e=K("div"),r=Te("svg"),i=Te("path"),a=Te("path"),o=Te("path"),s=ee(),l=K("h1"),d=De("Create Task"),m=ee(),f=K("label"),c=De("Category"),g=ee(),p=K("input"),y=ee(),_=K("label"),v=De("Title"),k=ee(),b=K("input"),T=ee(),x=K("label"),C=De("description"),O=ee(),M=K("input"),I=ee(),L=K("label"),G=De("Date"),X=ee(),st(V.$$.fragment),pe=ee(),ie=K("div"),J=K("div"),re=K("button"),ge=De("Submit"),ye=ee(),ce=K("button"),_e=De("Cancel"),this.h()},l(oe){t=B(oe,"DIV",{class:!0});var Q=N(t);e=B(Q,"DIV",{class:!0});var Ne=N(e);r=Ie(Ne,"svg",{xmlns:!0,class:!0,width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var A=N(r);i=Ie(A,"path",{stroke:!0,d:!0}),N(i).forEach(S),a=Ie(A,"path",{d:!0}),N(a).forEach(S),o=Ie(A,"path",{d:!0}),N(o).forEach(S),A.forEach(S),s=te(Ne),l=B(Ne,"H1",{class:!0});var ne=N(l);d=Ce(ne,"Create Task"),ne.forEach(S),Ne.forEach(S),m=te(Q),f=B(Q,"LABEL",{for:!0,class:!0});var F=N(f);c=Ce(F,"Category"),F.forEach(S),g=te(Q),p=B(Q,"INPUT",{id:!0,class:!0,placeholder:!0}),y=te(Q),_=B(Q,"LABEL",{for:!0,class:!0});var Be=N(_);v=Ce(Be,"Title"),Be.forEach(S),k=te(Q),b=B(Q,"INPUT",{id:!0,class:!0,placeholder:!0}),T=te(Q),x=B(Q,"LABEL",{for:!0,class:!0});var Je=N(x);C=Ce(Je,"description"),Je.forEach(S),O=te(Q),M=B(Q,"INPUT",{id:!0,class:!0,placeholder:!0}),I=te(Q),L=B(Q,"LABEL",{for:!0,class:!0});var Ve=N(L);G=Ce(Ve,"Date"),Ve.forEach(S),X=te(Q),lt(V.$$.fragment,Q),pe=te(Q),ie=B(Q,"DIV",{class:!0});var jt=N(ie);J=B(jt,"DIV",{class:!0});var Re=N(J);re=B(Re,"BUTTON",{class:!0});var $e=N(re);ge=Ce($e,"Submit"),$e.forEach(S),ye=te(Re),ce=B(Re,"BUTTON",{class:!0});var pt=N(ce);_e=Ce(pt,"Cancel"),pt.forEach(S),Re.forEach(S),jt.forEach(S),Q.forEach(S),this.h()},h(){E(i,"stroke","none"),E(i,"d","M0 0h24v24H0z"),E(a,"d","M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12"),E(o,"d","M20 12v4h-4a2 2 0 0 1 0 -4h4"),E(r,"xmlns","http://www.w3.org/2000/svg"),E(r,"class","icon icon-tabler icon-tabler-wallet"),E(r,"width","30"),E(r,"height","30"),E(r,"viewBox","0 0 24 24"),E(r,"stroke-width","1"),E(r,"stroke","currentColor"),E(r,"fill","none"),E(r,"stroke-linecap","round"),E(r,"stroke-linejoin","round"),E(l,"class","text-gray-800 font-lg text-xl font-bold tracking-normal leading-tight mt-1 ml-2"),E(e,"class","mb-4 w-full flex justify-start text-green-400"),E(f,"for","category"),E(f,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(p,"id","category"),E(p,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(p,"placeholder","Required"),E(_,"for","title"),E(_,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(b,"id","title"),E(b,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(b,"placeholder","Required"),E(x,"for","description"),E(x,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(M,"id","description"),E(M,"class","mb-2 mt-2 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"),E(M,"placeholder","Optional"),E(L,"for","date"),E(L,"class","text-gray-800 text-sm font-bold leading-tight tracking-normal"),E(re,"class",de="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 transition duration-150 ease-in-out rounded text-white px-8 py-2 text-sm mr-1 "+(n[0].length==0||n[1].length==0?"bg-indigo-300 hover:bg-indigo-300":"bg-indigo-600 hover:bg-indigo-700")),re.disabled=z=n[0].length==0||n[1].length==0,E(ce,"class","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-700 transition duration-150 ease-in-out hover:bg-red-600 bg-red-700 rounded text-white px-8 py-2 text-sm"),E(J,"class","flex items-center justify-start w-full"),E(ie,"class","relative mb-2 mt-2"),E(t,"class","relative py-1 px-16 bg-white shadow-md rounded border border-neutral-950")},m(oe,Q){Oe(oe,t,Q),D(t,e),D(e,r),D(r,i),D(r,a),D(r,o),D(e,s),D(e,l),D(l,d),D(t,m),D(t,f),D(f,c),D(t,g),D(t,p),nt(p,n[0]),D(t,y),D(t,_),D(_,v),D(t,k),D(t,b),nt(b,n[1]),D(t,T),D(t,x),D(x,C),D(t,O),D(t,M),nt(M,n[2]),D(t,I),D(t,L),D(L,G),D(t,X),ut(V,t,null),D(t,pe),D(t,ie),D(ie,J),D(J,re),D(re,ge),D(J,ye),D(J,ce),D(ce,_e),Pe=!0,Se||(ae=[me(p,"input",n[8]),me(b,"input",n[9]),me(M,"input",n[10]),me(re,"click",n[12]),me(ce,"click",n[13])],Se=!0)},p(oe,Q){Q&1&&p.value!==oe[0]&&nt(p,oe[0]),Q&2&&b.value!==oe[1]&&nt(b,oe[1]),Q&4&&M.value!==oe[2]&&nt(M,oe[2]);const Ne={};Q&65536&&(Ne.$$scope={dirty:Q,ctx:oe}),!Z&&Q&8&&(Z=!0,Ne.value=oe[3],Ir(()=>Z=!1)),V.$set(Ne),(!Pe||Q&3&&de!==(de="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 transition duration-150 ease-in-out rounded text-white px-8 py-2 text-sm mr-1 "+(oe[0].length==0||oe[1].length==0?"bg-indigo-300 hover:bg-indigo-300":"bg-indigo-600 hover:bg-indigo-700")))&&E(re,"class",de),(!Pe||Q&3&&z!==(z=oe[0].length==0||oe[1].length==0))&&(re.disabled=z)},i(oe){Pe||(ue(V.$$.fragment,oe),Pe=!0)},o(oe){be(V.$$.fragment,oe),Pe=!1},d(oe){oe&&S(t),ct(V),Se=!1,cn(ae)}}}function Is(n){let t,e,r,i,a,o,s,l,d,m,f,c,g,p,y,_;function v(b){n[14](b)}let k={$$slots:{default:[Ts]},$$scope:{ctx:n}};return n[4]!==void 0&&(k.showModal=n[4]),c=new Ia({props:k}),xt.push(()=>Tr(c,"showModal",v)),n[15](c),{c(){t=K("html"),e=K("head"),r=K("link"),i=ee(),a=K("body"),o=K("div"),s=K("button"),l=De(`Create Task !\r
            `),d=K("div"),m=ee(),f=K("div"),st(c.$$.fragment),this.h()},l(b){t=B(b,"HTML",{});var T=N(t);e=B(T,"HEAD",{});var x=N(e);r=B(x,"LINK",{rel:!0,href:!0}),x.forEach(S),i=te(T),a=B(T,"BODY",{});var C=N(a);o=B(C,"DIV",{class:!0});var O=N(o);s=B(O,"BUTTON",{class:!0});var M=N(s);l=Ce(M,`Create Task !\r
            `),d=B(M,"DIV",{class:!0});var I=N(d);I.forEach(S),M.forEach(S),O.forEach(S),m=te(C),f=B(C,"DIV",{});var L=N(f);lt(c.$$.fragment,L),L.forEach(S),C.forEach(S),T.forEach(S),this.h()},h(){E(r,"rel","stylesheet"),E(r,"href","https://unpkg.com/carbon-components@10.9.0/css/carbon-components.min.css"),E(d,"class","absolute duration-300 inset-0 w-full h-full transition-all scale-0 group-hover:scale-100 group-hover:bg-white/30 rounded-2xl"),E(s,"class","group rounded-2xl h-12 w-48 bg-green-500 font-bold text-lg text-white relative overflow-hidden"),E(o,"class","flex flex-col items-center h-[10vh] m-4")},m(b,T){Oe(b,t,T),D(t,e),D(e,r),D(t,i),D(t,a),D(a,o),D(o,s),D(s,l),D(s,d),D(a,m),D(a,f),ut(c,f,null),p=!0,y||(_=me(s,"click",n[7]),y=!0)},p(b,[T]){const x={};T&65583&&(x.$$scope={dirty:T,ctx:b}),!g&&T&16&&(g=!0,x.showModal=b[4],Ir(()=>g=!1)),c.$set(x)},i(b){p||(ue(c.$$.fragment,b),p=!0)},o(b){be(c.$$.fragment,b),p=!1},d(b){b&&S(t),n[15](null),ct(c),y=!1,_()}}}function Os(n,t,e){let r=!1,i,{category:a=""}=t,{title:o=""}=t,{description:s=""}=t,{date:l=""}=t;async function d(){try{if(a==""||o=="")throw Ms(422,{message:"Please, Insert Missing Field",code:"422"});const b=await Fn.tasks.add({category:a,title:o,description:s,date:l})}catch(b){status=`Failed to add ${o}: ${b}`,alert(b.body.message)}finally{i.close(),e(0,a=""),e(1,o=""),e(2,s=""),e(3,l="")}}const m=()=>e(4,r=!0);function f(){a=this.value,e(0,a)}function c(){o=this.value,e(1,o)}function g(){s=this.value,e(2,s)}function p(b){l=b,e(3,l)}const y=()=>d(),_=()=>i.close();function v(b){r=b,e(4,r)}function k(b){xt[b?"unshift":"push"](()=>{i=b,e(5,i)})}return n.$$set=b=>{"category"in b&&e(0,a=b.category),"title"in b&&e(1,o=b.title),"description"in b&&e(2,s=b.description),"date"in b&&e(3,l=b.date)},[a,o,s,l,r,i,d,m,f,c,g,p,y,_,v,k]}class Ps extends Ct{constructor(t){super(),Et(this,t,Os,Is,Mt,{category:0,title:1,description:2,date:3})}}function Ji(n,t,e){const r=n.slice();return r[2]=t[e],r}function Qi(n){let t=[],e=new Map,r,i,a=n[0];const o=s=>s[2].id;for(let s=0;s<a.length;s+=1){let l=Ji(n,a,s),d=o(l);e.set(d,t[s]=Xi(d,l))}return{c(){for(let s=0;s<t.length;s+=1)t[s].c();r=sn()},l(s){for(let l=0;l<t.length;l+=1)t[l].l(s);r=sn()},m(s,l){for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(s,l);Oe(s,r,l),i=!0},p(s,l){l&1&&(a=s[0],Rt(),t=Ja(t,l,o,1,s,a,e,r.parentNode,Qa,Xi,r,Ji),Lt())},i(s){if(!i){for(let l=0;l<a.length;l+=1)ue(t[l]);i=!0}},o(s){for(let l=0;l<t.length;l+=1)be(t[l]);i=!1},d(s){for(let l=0;l<t.length;l+=1)t[l].d(s);s&&S(r)}}}function Xi(n,t){let e,r,i;return r=new Es({props:{category:t[2].category,title:t[2].title,date:t[2].date,id:t[2].id,description:t[2].description}}),{key:n,first:null,c(){e=sn(),st(r.$$.fragment),this.h()},l(a){e=sn(),lt(r.$$.fragment,a),this.h()},h(){this.first=e},m(a,o){Oe(a,e,o),ut(r,a,o),i=!0},p(a,o){t=a;const s={};o&1&&(s.category=t[2].category),o&1&&(s.title=t[2].title),o&1&&(s.date=t[2].date),o&1&&(s.id=t[2].id),o&1&&(s.description=t[2].description),r.$set(s)},i(a){i||(ue(r.$$.fragment,a),i=!0)},o(a){be(r.$$.fragment,a),i=!1},d(a){a&&S(e),ct(r,a)}}}function Ss(n){let t,e,r,i,a,o,s,l,d,m,f;o=new Ps({});let c=n[0]&&Qi(n);return{c(){t=K("html"),e=K("head"),r=ee(),i=K("body"),a=K("div"),st(o.$$.fragment),s=ee(),l=K("div"),d=K("div"),m=K("div"),c&&c.c(),this.h()},l(g){t=B(g,"HTML",{});var p=N(t);e=B(p,"HEAD",{});var y=N(e);y.forEach(S),r=te(p),i=B(p,"BODY",{});var _=N(i);a=B(_,"DIV",{});var v=N(a);lt(o.$$.fragment,v),s=te(v),l=B(v,"DIV",{});var k=N(l);d=B(k,"DIV",{class:!0});var b=N(d);m=B(b,"DIV",{class:!0});var T=N(m);c&&c.l(T),T.forEach(S),b.forEach(S),k.forEach(S),v.forEach(S),_.forEach(S),p.forEach(S),this.h()},h(){E(m,"class","grid grid-flow text-neutral-600 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 "),E(d,"class","bg-white bg-clip-border w-full m-5")},m(g,p){Oe(g,t,p),D(t,e),D(t,r),D(t,i),D(i,a),ut(o,a,null),D(a,s),D(a,l),D(l,d),D(d,m),c&&c.m(m,null),f=!0},p(g,[p]){g[0]?c?(c.p(g,p),p&1&&ue(c,1)):(c=Qi(g),c.c(),ue(c,1),c.m(m,null)):c&&(Rt(),be(c,1,1,()=>{c=null}),Lt())},i(g){f||(ue(o.$$.fragment,g),ue(c),f=!0)},o(g){be(o.$$.fragment,g),be(c),f=!1},d(g){g&&S(t),ct(o),c&&c.d()}}}function As(n,t,e){let r,i=Ta(()=>Fn.tasks.toArray());return ze(n,i,a=>e(0,r=a)),[r,i]}class Bs extends Ct{constructor(t){super(),Et(this,t,As,Ss,Mt,{})}}export{Bs as default};
